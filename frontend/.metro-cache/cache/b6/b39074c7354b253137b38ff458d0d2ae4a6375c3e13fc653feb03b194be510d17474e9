{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":101,"index":116}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/TextInput","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"DmXc1F5dPYWntVgqRwh73w0VngA=","exportNames":["*"],"imports":1}},{"name":"react-native-gesture-handler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":174},"end":{"line":5,"column":57,"index":231}}],"key":"HJh61WuEUBv/Tn7fS9MiHoQcOfk=","exportNames":["*"],"imports":1}},{"name":"../../hooks","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":232},"end":{"line":6,"column":53,"index":285}}],"key":"jIaYcV+QY+bqLDzM+doDopaMIms=","exportNames":["*"],"imports":1}},{"name":"../../utilities","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":286},"end":{"line":7,"column":49,"index":335}}],"key":"tHjYhTwYQKIhGsmxDL8j1Pu0urc=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":336},"end":{"line":8,"column":48,"index":384}}],"key":"rKAWVuQOSSDHxC6IWcmkeWszaWg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsTextInput = require(_dependencyMap[1], \"react-native-web/dist/exports/TextInput\");\n  var RNTextInput = _interopDefault(_reactNativeWebDistExportsTextInput);\n  var _reactNativeGestureHandler = require(_dependencyMap[2], \"react-native-gesture-handler\");\n  var _hooks = require(_dependencyMap[3], \"../../hooks\");\n  var _utilities = require(_dependencyMap[4], \"../../utilities\");\n  var _reactJsxRuntime = require(_dependencyMap[5], \"react/jsx-runtime\");\n  const BottomSheetTextInputComponent = /*#__PURE__*/(0, _react.forwardRef)(({\n    onFocus,\n    onBlur,\n    ...rest\n  }, providedRef) => {\n    //#region refs\n    const ref = (0, _react.useRef)(null);\n    //#endregion\n\n    //#region hooks\n    const {\n      animatedKeyboardState,\n      textInputNodesRef\n    } = (0, _hooks.useBottomSheetInternal)();\n    //#endregion\n\n    //#region callbacks\n    const handleOnFocus = (0, _react.useCallback)(args => {\n      animatedKeyboardState.set(state => ({\n        ...state,\n        target: args.nativeEvent.target\n      }));\n      if (onFocus) {\n        onFocus(args);\n      }\n    }, [onFocus, animatedKeyboardState]);\n    const handleOnBlur = (0, _react.useCallback)(args => {\n      const keyboardState = animatedKeyboardState.get();\n      const currentFocusedInput = (0, _utilities.findNodeHandle)(RNTextInput.default.State.currentlyFocusedInput());\n\n      /**\n       * we need to make sure that we only remove the target\n       * if the target belong to the current component and\n       * if the currently focused input is not in the targets set.\n       */\n      const shouldRemoveCurrentTarget = keyboardState.target === args.nativeEvent.target;\n      const shouldIgnoreBlurEvent = currentFocusedInput && textInputNodesRef.current.has(currentFocusedInput);\n      if (shouldRemoveCurrentTarget && !shouldIgnoreBlurEvent) {\n        animatedKeyboardState.set(state => ({\n          ...state,\n          target: undefined\n        }));\n      }\n      if (onBlur) {\n        onBlur(args);\n      }\n    }, [onBlur, animatedKeyboardState, textInputNodesRef]);\n    //#endregion\n\n    //#region effects\n    (0, _react.useEffect)(() => {\n      const componentNode = (0, _utilities.findNodeHandle)(ref.current);\n      if (!componentNode) {\n        return;\n      }\n      if (!textInputNodesRef.current.has(componentNode)) {\n        textInputNodesRef.current.add(componentNode);\n      }\n      return () => {\n        const componentNode = (0, _utilities.findNodeHandle)(ref.current);\n        if (!componentNode) {\n          return;\n        }\n        const keyboardState = animatedKeyboardState.get();\n        /**\n         * remove the keyboard state target if it belong\n         * to the current component.\n         */\n        if (keyboardState.target === componentNode) {\n          animatedKeyboardState.set(state => ({\n            ...state,\n            target: undefined\n          }));\n        }\n        if (textInputNodesRef.current.has(componentNode)) {\n          textInputNodesRef.current.delete(componentNode);\n        }\n      };\n    }, [textInputNodesRef, animatedKeyboardState]);\n    (0, _react.useImperativeHandle)(providedRef, () => ref.current ?? undefined, []);\n    //#endregion\n\n    return /*#__PURE__*/(0, _reactJsxRuntime.jsx)(_reactNativeGestureHandler.TextInput, {\n      ref: ref,\n      onFocus: handleOnFocus,\n      onBlur: handleOnBlur,\n      ...rest\n    });\n  });\n  const BottomSheetTextInput = /*#__PURE__*/(0, _react.memo)(BottomSheetTextInputComponent);\n  BottomSheetTextInput.displayName = 'BottomSheetTextInput';\n  var _default = BottomSheetTextInput;\n});","lineCount":117,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,100,0,"Object"],[12,8,100,0],[12,9,100,0,"defineProperty"],[12,23,100,0],[12,24,100,0,"exports"],[12,31,100,0],[13,4,100,0,"enumerable"],[13,14,100,0],[14,4,100,0,"get"],[14,7,100,0],[14,18,100,0,"get"],[14,19,100,0],[15,6,100,0],[15,13,100,0,"_default"],[15,21,100,0],[16,4,100,0],[17,2,100,0],[18,2,3,0],[18,6,3,0,"_react"],[18,12,3,0],[18,15,3,0,"require"],[18,22,3,0],[18,23,3,0,"_dependencyMap"],[18,37,3,0],[19,2,3,101],[19,6,3,101,"_reactNativeWebDistExportsTextInput"],[19,41,3,101],[19,44,3,101,"require"],[19,51,3,101],[19,52,3,101,"_dependencyMap"],[19,66,3,101],[20,2,3,101],[20,6,3,101,"RNTextInput"],[20,17,3,101],[20,20,3,101,"_interopDefault"],[20,35,3,101],[20,36,3,101,"_reactNativeWebDistExportsTextInput"],[20,71,3,101],[21,2,5,0],[21,6,5,0,"_reactNativeGestureHandler"],[21,32,5,0],[21,35,5,0,"require"],[21,42,5,0],[21,43,5,0,"_dependencyMap"],[21,57,5,0],[22,2,6,0],[22,6,6,0,"_hooks"],[22,12,6,0],[22,15,6,0,"require"],[22,22,6,0],[22,23,6,0,"_dependencyMap"],[22,37,6,0],[23,2,7,0],[23,6,7,0,"_utilities"],[23,16,7,0],[23,19,7,0,"require"],[23,26,7,0],[23,27,7,0,"_dependencyMap"],[23,41,7,0],[24,2,8,0],[24,6,8,0,"_reactJsxRuntime"],[24,22,8,0],[24,25,8,0,"require"],[24,32,8,0],[24,33,8,0,"_dependencyMap"],[24,47,8,0],[25,2,9,0],[25,8,9,6,"BottomSheetTextInputComponent"],[25,37,9,35],[25,40,9,38],[25,53,9,51],[25,57,9,51,"forwardRef"],[25,63,9,61],[25,64,9,61,"forwardRef"],[25,74,9,61],[25,76,9,62],[25,77,9,63],[26,4,10,2,"onFocus"],[26,11,10,9],[27,4,11,2,"onBlur"],[27,10,11,8],[28,4,12,2],[28,7,12,5,"rest"],[29,2,13,0],[29,3,13,1],[29,5,13,3,"providedRef"],[29,16,13,14],[29,21,13,19],[30,4,14,2],[31,4,15,2],[31,10,15,8,"ref"],[31,13,15,11],[31,16,15,14],[31,20,15,14,"useRef"],[31,26,15,20],[31,27,15,20,"useRef"],[31,33,15,20],[31,35,15,21],[31,39,15,25],[31,40,15,26],[32,4,16,2],[34,4,18,2],[35,4,19,2],[35,10,19,8],[36,6,20,4,"animatedKeyboardState"],[36,27,20,25],[37,6,21,4,"textInputNodesRef"],[38,4,22,2],[38,5,22,3],[38,8,22,6],[38,12,22,6,"useBottomSheetInternal"],[38,18,22,28],[38,19,22,28,"useBottomSheetInternal"],[38,41,22,28],[38,43,22,29],[38,44,22,30],[39,4,23,2],[41,4,25,2],[42,4,26,2],[42,10,26,8,"handleOnFocus"],[42,23,26,21],[42,26,26,24],[42,30,26,24,"useCallback"],[42,36,26,35],[42,37,26,35,"useCallback"],[42,48,26,35],[42,50,26,36,"args"],[42,54,26,40],[42,58,26,44],[43,6,27,4,"animatedKeyboardState"],[43,27,27,25],[43,28,27,26,"set"],[43,31,27,29],[43,32,27,30,"state"],[43,37,27,35],[43,42,27,40],[44,8,28,6],[44,11,28,9,"state"],[44,16,28,14],[45,8,29,6,"target"],[45,14,29,12],[45,16,29,14,"args"],[45,20,29,18],[45,21,29,19,"nativeEvent"],[45,32,29,30],[45,33,29,31,"target"],[46,6,30,4],[46,7,30,5],[46,8,30,6],[46,9,30,7],[47,6,31,4],[47,10,31,8,"onFocus"],[47,17,31,15],[47,19,31,17],[48,8,32,6,"onFocus"],[48,15,32,13],[48,16,32,14,"args"],[48,20,32,18],[48,21,32,19],[49,6,33,4],[50,4,34,2],[50,5,34,3],[50,7,34,5],[50,8,34,6,"onFocus"],[50,15,34,13],[50,17,34,15,"animatedKeyboardState"],[50,38,34,36],[50,39,34,37],[50,40,34,38],[51,4,35,2],[51,10,35,8,"handleOnBlur"],[51,22,35,20],[51,25,35,23],[51,29,35,23,"useCallback"],[51,35,35,34],[51,36,35,34,"useCallback"],[51,47,35,34],[51,49,35,35,"args"],[51,53,35,39],[51,57,35,43],[52,6,36,4],[52,12,36,10,"keyboardState"],[52,25,36,23],[52,28,36,26,"animatedKeyboardState"],[52,49,36,47],[52,50,36,48,"get"],[52,53,36,51],[52,54,36,52],[52,55,36,53],[53,6,37,4],[53,12,37,10,"currentFocusedInput"],[53,31,37,29],[53,34,37,32],[53,38,37,32,"findNodeHandle"],[53,48,37,46],[53,49,37,46,"findNodeHandle"],[53,63,37,46],[53,65,37,47,"RNTextInput"],[53,76,37,58],[53,77,37,58,"default"],[53,84,37,58],[53,85,37,59,"State"],[53,90,37,64],[53,91,37,65,"currentlyFocusedInput"],[53,112,37,86],[53,113,37,87],[53,114,37,88],[53,115,37,89],[55,6,39,4],[56,0,40,0],[57,0,41,0],[58,0,42,0],[59,0,43,0],[60,6,44,4],[60,12,44,10,"shouldRemoveCurrentTarget"],[60,37,44,35],[60,40,44,38,"keyboardState"],[60,53,44,51],[60,54,44,52,"target"],[60,60,44,58],[60,65,44,63,"args"],[60,69,44,67],[60,70,44,68,"nativeEvent"],[60,81,44,79],[60,82,44,80,"target"],[60,88,44,86],[61,6,45,4],[61,12,45,10,"shouldIgnoreBlurEvent"],[61,33,45,31],[61,36,45,34,"currentFocusedInput"],[61,55,45,53],[61,59,45,57,"textInputNodesRef"],[61,76,45,74],[61,77,45,75,"current"],[61,84,45,82],[61,85,45,83,"has"],[61,88,45,86],[61,89,45,87,"currentFocusedInput"],[61,108,45,106],[61,109,45,107],[62,6,46,4],[62,10,46,8,"shouldRemoveCurrentTarget"],[62,35,46,33],[62,39,46,37],[62,40,46,38,"shouldIgnoreBlurEvent"],[62,61,46,59],[62,63,46,61],[63,8,47,6,"animatedKeyboardState"],[63,29,47,27],[63,30,47,28,"set"],[63,33,47,31],[63,34,47,32,"state"],[63,39,47,37],[63,44,47,42],[64,10,48,8],[64,13,48,11,"state"],[64,18,48,16],[65,10,49,8,"target"],[65,16,49,14],[65,18,49,16,"undefined"],[66,8,50,6],[66,9,50,7],[66,10,50,8],[66,11,50,9],[67,6,51,4],[68,6,52,4],[68,10,52,8,"onBlur"],[68,16,52,14],[68,18,52,16],[69,8,53,6,"onBlur"],[69,14,53,12],[69,15,53,13,"args"],[69,19,53,17],[69,20,53,18],[70,6,54,4],[71,4,55,2],[71,5,55,3],[71,7,55,5],[71,8,55,6,"onBlur"],[71,14,55,12],[71,16,55,14,"animatedKeyboardState"],[71,37,55,35],[71,39,55,37,"textInputNodesRef"],[71,56,55,54],[71,57,55,55],[71,58,55,56],[72,4,56,2],[74,4,58,2],[75,4,59,2],[75,8,59,2,"useEffect"],[75,14,59,11],[75,15,59,11,"useEffect"],[75,24,59,11],[75,26,59,12],[75,32,59,18],[76,6,60,4],[76,12,60,10,"componentNode"],[76,25,60,23],[76,28,60,26],[76,32,60,26,"findNodeHandle"],[76,42,60,40],[76,43,60,40,"findNodeHandle"],[76,57,60,40],[76,59,60,41,"ref"],[76,62,60,44],[76,63,60,45,"current"],[76,70,60,52],[76,71,60,53],[77,6,61,4],[77,10,61,8],[77,11,61,9,"componentNode"],[77,24,61,22],[77,26,61,24],[78,8,62,6],[79,6,63,4],[80,6,64,4],[80,10,64,8],[80,11,64,9,"textInputNodesRef"],[80,28,64,26],[80,29,64,27,"current"],[80,36,64,34],[80,37,64,35,"has"],[80,40,64,38],[80,41,64,39,"componentNode"],[80,54,64,52],[80,55,64,53],[80,57,64,55],[81,8,65,6,"textInputNodesRef"],[81,25,65,23],[81,26,65,24,"current"],[81,33,65,31],[81,34,65,32,"add"],[81,37,65,35],[81,38,65,36,"componentNode"],[81,51,65,49],[81,52,65,50],[82,6,66,4],[83,6,67,4],[83,13,67,11],[83,19,67,17],[84,8,68,6],[84,14,68,12,"componentNode"],[84,27,68,25],[84,30,68,28],[84,34,68,28,"findNodeHandle"],[84,44,68,42],[84,45,68,42,"findNodeHandle"],[84,59,68,42],[84,61,68,43,"ref"],[84,64,68,46],[84,65,68,47,"current"],[84,72,68,54],[84,73,68,55],[85,8,69,6],[85,12,69,10],[85,13,69,11,"componentNode"],[85,26,69,24],[85,28,69,26],[86,10,70,8],[87,8,71,6],[88,8,72,6],[88,14,72,12,"keyboardState"],[88,27,72,25],[88,30,72,28,"animatedKeyboardState"],[88,51,72,49],[88,52,72,50,"get"],[88,55,72,53],[88,56,72,54],[88,57,72,55],[89,8,73,6],[90,0,74,0],[91,0,75,0],[92,0,76,0],[93,8,77,6],[93,12,77,10,"keyboardState"],[93,25,77,23],[93,26,77,24,"target"],[93,32,77,30],[93,37,77,35,"componentNode"],[93,50,77,48],[93,52,77,50],[94,10,78,8,"animatedKeyboardState"],[94,31,78,29],[94,32,78,30,"set"],[94,35,78,33],[94,36,78,34,"state"],[94,41,78,39],[94,46,78,44],[95,12,79,10],[95,15,79,13,"state"],[95,20,79,18],[96,12,80,10,"target"],[96,18,80,16],[96,20,80,18,"undefined"],[97,10,81,8],[97,11,81,9],[97,12,81,10],[97,13,81,11],[98,8,82,6],[99,8,83,6],[99,12,83,10,"textInputNodesRef"],[99,29,83,27],[99,30,83,28,"current"],[99,37,83,35],[99,38,83,36,"has"],[99,41,83,39],[99,42,83,40,"componentNode"],[99,55,83,53],[99,56,83,54],[99,58,83,56],[100,10,84,8,"textInputNodesRef"],[100,27,84,25],[100,28,84,26,"current"],[100,35,84,33],[100,36,84,34,"delete"],[100,42,84,40],[100,43,84,41,"componentNode"],[100,56,84,54],[100,57,84,55],[101,8,85,6],[102,6,86,4],[102,7,86,5],[103,4,87,2],[103,5,87,3],[103,7,87,5],[103,8,87,6,"textInputNodesRef"],[103,25,87,23],[103,27,87,25,"animatedKeyboardState"],[103,48,87,46],[103,49,87,47],[103,50,87,48],[104,4,88,2],[104,8,88,2,"useImperativeHandle"],[104,14,88,21],[104,15,88,21,"useImperativeHandle"],[104,34,88,21],[104,36,88,22,"providedRef"],[104,47,88,33],[104,49,88,35],[104,55,88,41,"ref"],[104,58,88,44],[104,59,88,45,"current"],[104,66,88,52],[104,70,88,56,"undefined"],[104,79,88,65],[104,81,88,67],[104,83,88,69],[104,84,88,70],[105,4,89,2],[107,4,91,2],[107,11,91,9],[107,24,91,22],[107,28,91,22,"_jsx"],[107,44,91,26],[107,45,91,26,"jsx"],[107,48,91,26],[107,50,91,27,"TextInput"],[107,76,91,36],[107,77,91,36,"TextInput"],[107,86,91,36],[107,88,91,38],[108,6,92,4,"ref"],[108,9,92,7],[108,11,92,9,"ref"],[108,14,92,12],[109,6,93,4,"onFocus"],[109,13,93,11],[109,15,93,13,"handleOnFocus"],[109,28,93,26],[110,6,94,4,"onBlur"],[110,12,94,10],[110,14,94,12,"handleOnBlur"],[110,26,94,24],[111,6,95,4],[111,9,95,7,"rest"],[112,4,96,2],[112,5,96,3],[112,6,96,4],[113,2,97,0],[113,3,97,1],[113,4,97,2],[114,2,98,0],[114,8,98,6,"BottomSheetTextInput"],[114,28,98,26],[114,31,98,29],[114,44,98,42],[114,48,98,42,"memo"],[114,54,98,46],[114,55,98,46,"memo"],[114,59,98,46],[114,61,98,47,"BottomSheetTextInputComponent"],[114,90,98,76],[114,91,98,77],[115,2,99,0,"BottomSheetTextInput"],[115,22,99,20],[115,23,99,21,"displayName"],[115,34,99,32],[115,37,99,35],[115,59,99,57],[116,2,100,0],[116,6,100,0,"_default"],[116,14,100,0],[116,17,100,15,"BottomSheetTextInput"],[116,37,100,35],[117,0,100,36],[117,3]],"functionMap":{"names":["<global>","forwardRef$argument_0","handleOnFocus","animatedKeyboardState.set$argument_0","handleOnBlur","useEffect$argument_0","<anonymous>","useImperativeHandle$argument_1"],"mappings":"AAA;8DCQ;oCCiB;8BCC;MDG;GDI;mCGC;gCDY;QCG;GHK;YII;WCQ;kCHW;UGG;KDK;GJC;mCMC,8BN;CDS"},"hasCjsExports":false},"type":"js/module"}]}