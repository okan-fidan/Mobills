{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":13,"index":148},"end":{"line":7,"column":29,"index":164}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"../utilities/isFabricInstalled","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":25,"index":191},"end":{"line":8,"column":66,"index":232}}],"key":"djgdsl26LWgv28G/r9Kyvfx1ApY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useBoundingClientRect = useBoundingClientRect;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _isFabricInstalled = require(_dependencyMap[1], \"../utilities/isFabricInstalled\");\n  /**\n   * A custom hook that retrieves the bounding client rectangle of a given `ref` element\n   * and invokes a handler function with the layout information.\n   *\n   * This hook is designed to work with React Native's Fabric architecture and provides\n   * support for both `unstable_getBoundingClientRect` and `getBoundingClientRect` methods.\n   *\n   * @param ref - A `RefObject` pointing to a `View` or `null`. The bounding client rectangle\n   *              will be retrieved from this reference.\n   * @param handler - A callback function that will be invoked with the layout information\n   *                  of the referenced element.\n   *\n   * @remarks\n   * - The hook uses `useLayoutEffect` to ensure the layout information is retrieved\n   *   after the DOM updates.\n   * - The `isFabricInstalled` function is used to determine if the Fabric architecture\n   *   is available.\n   * - The `unstable_getBoundingClientRect` method is used if available, falling back\n   *   to `getBoundingClientRect` otherwise.\n   *\n   * @example\n   * ```tsx\n   * const ref = useRef<View | null>(null);\n   * useBoundingClientRect(ref, (layout) => {\n   *   console.log('Bounding client rect:', layout);\n   * });\n   * ```\n   */\n  function useBoundingClientRect(ref, handler) {\n    if (!(0, _isFabricInstalled.isFabricInstalled)()) {\n      return;\n    }\n\n    // biome-ignore lint/correctness/useHookAtTopLevel: `isFabricInstalled` is a constant that will not change during the runtime\n    (0, _react.useLayoutEffect)(() => {\n      if (!ref || !ref.current) {\n        return;\n      }\n      if (\n      // @ts-expect-error ðŸ‘‰ https://github.com/facebook/react/commit/53b1f69ba\n      ref.current.unstable_getBoundingClientRect !== null &&\n      // @ts-expect-error ðŸ‘‰ https://github.com/facebook/react/commit/53b1f69ba\n      typeof ref.current.unstable_getBoundingClientRect === 'function') {\n        // @ts-expect-error https://github.com/facebook/react/commit/53b1f69ba\n        const layout = ref.current.unstable_getBoundingClientRect();\n        handler(layout);\n        return;\n      }\n\n      // @ts-expect-error once it `unstable_getBoundingClientRect` gets stable ðŸ¤ž.\n      if (ref.current.getBoundingClientRect !== null) {\n        // @ts-expect-error once it `unstable_getBoundingClientRect` gets stable.\n        const layout = ref.current.getBoundingClientRect();\n        handler(layout);\n      }\n    });\n  }\n});","lineCount":67,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"useBoundingClientRect"],[7,31,6,29],[7,34,6,32,"useBoundingClientRect"],[7,55,6,53],[8,2,7,0],[8,6,7,4,"_react"],[8,12,7,10],[8,15,7,13,"require"],[8,22,7,20],[8,23,7,20,"_dependencyMap"],[8,37,7,20],[8,49,7,28],[8,50,7,29],[9,2,8,0],[9,6,8,4,"_isFabricInstalled"],[9,24,8,22],[9,27,8,25,"require"],[9,34,8,32],[9,35,8,32,"_dependencyMap"],[9,49,8,32],[9,86,8,65],[9,87,8,66],[10,2,9,0],[11,0,10,0],[12,0,11,0],[13,0,12,0],[14,0,13,0],[15,0,14,0],[16,0,15,0],[17,0,16,0],[18,0,17,0],[19,0,18,0],[20,0,19,0],[21,0,20,0],[22,0,21,0],[23,0,22,0],[24,0,23,0],[25,0,24,0],[26,0,25,0],[27,0,26,0],[28,0,27,0],[29,0,28,0],[30,0,29,0],[31,0,30,0],[32,0,31,0],[33,0,32,0],[34,0,33,0],[35,0,34,0],[36,0,35,0],[37,0,36,0],[38,2,37,0],[38,11,37,9,"useBoundingClientRect"],[38,32,37,30,"useBoundingClientRect"],[38,33,37,31,"ref"],[38,36,37,34],[38,38,37,36,"handler"],[38,45,37,43],[38,47,37,45],[39,4,38,2],[39,8,38,6],[39,9,38,7],[39,10,38,8],[39,11,38,9],[39,13,38,11,"_isFabricInstalled"],[39,31,38,29],[39,32,38,30,"isFabricInstalled"],[39,49,38,47],[39,51,38,49],[39,52,38,50],[39,54,38,52],[40,6,39,4],[41,4,40,2],[43,4,42,2],[44,4,43,2],[44,5,43,3],[44,6,43,4],[44,8,43,6,"_react"],[44,14,43,12],[44,15,43,13,"useLayoutEffect"],[44,30,43,28],[44,32,43,30],[44,38,43,36],[45,6,44,4],[45,10,44,8],[45,11,44,9,"ref"],[45,14,44,12],[45,18,44,16],[45,19,44,17,"ref"],[45,22,44,20],[45,23,44,21,"current"],[45,30,44,28],[45,32,44,30],[46,8,45,6],[47,6,46,4],[48,6,47,4],[49,6,48,4],[50,6,49,4,"ref"],[50,9,49,7],[50,10,49,8,"current"],[50,17,49,15],[50,18,49,16,"unstable_getBoundingClientRect"],[50,48,49,46],[50,53,49,51],[50,57,49,55],[51,6,50,4],[52,6,51,4],[52,13,51,11,"ref"],[52,16,51,14],[52,17,51,15,"current"],[52,24,51,22],[52,25,51,23,"unstable_getBoundingClientRect"],[52,55,51,53],[52,60,51,58],[52,70,51,68],[52,72,51,70],[53,8,52,6],[54,8,53,6],[54,14,53,12,"layout"],[54,20,53,18],[54,23,53,21,"ref"],[54,26,53,24],[54,27,53,25,"current"],[54,34,53,32],[54,35,53,33,"unstable_getBoundingClientRect"],[54,65,53,63],[54,66,53,64],[54,67,53,65],[55,8,54,6,"handler"],[55,15,54,13],[55,16,54,14,"layout"],[55,22,54,20],[55,23,54,21],[56,8,55,6],[57,6,56,4],[59,6,58,4],[60,6,59,4],[60,10,59,8,"ref"],[60,13,59,11],[60,14,59,12,"current"],[60,21,59,19],[60,22,59,20,"getBoundingClientRect"],[60,43,59,41],[60,48,59,46],[60,52,59,50],[60,54,59,52],[61,8,60,6],[62,8,61,6],[62,14,61,12,"layout"],[62,20,61,18],[62,23,61,21,"ref"],[62,26,61,24],[62,27,61,25,"current"],[62,34,61,32],[62,35,61,33,"getBoundingClientRect"],[62,56,61,54],[62,57,61,55],[62,58,61,56],[63,8,62,6,"handler"],[63,15,62,13],[63,16,62,14,"layout"],[63,22,62,20],[63,23,62,21],[64,6,63,4],[65,4,64,2],[65,5,64,3],[65,6,64,4],[66,2,65,0],[67,0,65,1],[67,3]],"functionMap":{"names":["<global>","useBoundingClientRect","<anonymous>"],"mappings":"AAA;ACoC;8BCM;GDqB;CDC"},"hasCjsExports":true},"type":"js/module"}]}