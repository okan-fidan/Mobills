{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../config/firebase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":131},"end":{"line":3,"column":42,"index":173}}],"key":"K/SZPG5sPeV1upVh8dao26aG7MQ=","exportNames":["*"],"imports":1}},{"name":"firebase/auth","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":174},"end":{"line":10,"column":23,"index":332}}],"key":"o2UvaebosmgxImAY7KlhPO3FnYs=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":333},"end":{"line":11,"column":42,"index":375}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"../services/notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":376},"end":{"line":17,"column":35,"index":553}}],"key":"PilFUkBfYpg1cVGLNRiWDw/oULQ=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _configFirebase = require(_dependencyMap[2], \"../config/firebase\");\n  var _firebaseAuth = require(_dependencyMap[3], \"firebase/auth\");\n  var _servicesApi = require(_dependencyMap[4], \"../services/api\");\n  var _servicesNotifications = require(_dependencyMap[5], \"../services/notifications\");\n  var _reactJsxDevRuntime = require(_dependencyMap[6], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [userProfile, setUserProfile] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      const unsubscribe = (0, _firebaseAuth.onAuthStateChanged)(_configFirebase.auth, async firebaseUser => {\n        setUser(firebaseUser);\n        if (firebaseUser) {\n          try {\n            const response = await _servicesApi.userApi.getProfile();\n            setUserProfile(response.data);\n\n            // Push notification kaydı (sadece mobil cihazlarda)\n            if (Platform.default.OS !== 'web') {\n              const pushToken = await (0, _servicesNotifications.registerForPushNotificationsAsync)();\n              if (pushToken) {\n                await (0, _servicesNotifications.savePushToken)(pushToken);\n              }\n            }\n          } catch (error) {\n            console.error('Error fetching profile:', error);\n          }\n        } else {\n          setUserProfile(null);\n        }\n        setLoading(false);\n      });\n\n      // Notification listener'ları (sadece mobil cihazlarda)\n      let notificationListener;\n      let responseListener;\n      if (Platform.default.OS !== 'web') {\n        notificationListener = (0, _servicesNotifications.addNotificationReceivedListener)(notification => {\n          console.log('Bildirim alındı:', notification);\n        });\n        responseListener = (0, _servicesNotifications.addNotificationResponseReceivedListener)(response => {\n          console.log('Bildirime tıklandı:', response);\n          // Burada bildirime tıklandığında yapılacak işlemler\n          // Örn: ilgili sohbete yönlendirme\n        });\n      }\n      return () => {\n        unsubscribe();\n        if (notificationListener) notificationListener.remove();\n        if (responseListener) responseListener.remove();\n      };\n    }, []);\n    const signIn = async (email, password) => {\n      await (0, _firebaseAuth.signInWithEmailAndPassword)(_configFirebase.auth, email, password);\n    };\n    const signUp = async (email, password) => {\n      await (0, _firebaseAuth.createUserWithEmailAndPassword)(_configFirebase.auth, email, password);\n    };\n    const signOut = async () => {\n      await (0, _firebaseAuth.signOut)(_configFirebase.auth);\n      setUserProfile(null);\n    };\n    const registerProfile = async data => {\n      const response = await _servicesApi.userApi.register(data);\n      setUserProfile(response.data);\n    };\n    const refreshProfile = async () => {\n      if (user) {\n        const response = await _servicesApi.userApi.getProfile();\n        setUserProfile(response.data);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        userProfile,\n        loading,\n        signIn,\n        signUp,\n        signOut,\n        registerProfile,\n        refreshProfile\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"WycvliXlKHiFjN+6Nj63IB/wNNM=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":127,"map":[[15,2,46,0,"exports"],[15,9,46,0],[15,10,46,0,"AuthProvider"],[15,22,46,0],[15,25,46,0,"AuthProvider"],[15,37,46,0],[16,2,139,0,"exports"],[16,9,139,0],[16,10,139,0,"useAuth"],[16,17,139,0],[16,20,139,0,"useAuth"],[16,27,139,0],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,1,89],[18,6,1,89,"_reactNativeWebDistExportsPlatform"],[18,40,1,89],[18,43,1,89,"require"],[18,50,1,89],[18,51,1,89,"_dependencyMap"],[18,65,1,89],[19,2,1,89],[19,6,1,89,"Platform"],[19,14,1,89],[19,17,1,89,"_interopDefault"],[19,32,1,89],[19,33,1,89,"_reactNativeWebDistExportsPlatform"],[19,67,1,89],[20,2,3,0],[20,6,3,0,"_configFirebase"],[20,21,3,0],[20,24,3,0,"require"],[20,31,3,0],[20,32,3,0,"_dependencyMap"],[20,46,3,0],[21,2,4,0],[21,6,4,0,"_firebaseAuth"],[21,19,4,0],[21,22,4,0,"require"],[21,29,4,0],[21,30,4,0,"_dependencyMap"],[21,44,4,0],[22,2,11,0],[22,6,11,0,"_servicesApi"],[22,18,11,0],[22,21,11,0,"require"],[22,28,11,0],[22,29,11,0,"_dependencyMap"],[22,43,11,0],[23,2,12,0],[23,6,12,0,"_servicesNotifications"],[23,28,12,0],[23,31,12,0,"require"],[23,38,12,0],[23,39,12,0,"_dependencyMap"],[23,53,12,0],[24,2,17,35],[24,6,17,35,"_reactJsxDevRuntime"],[24,25,17,35],[24,28,17,35,"require"],[24,35,17,35],[24,36,17,35,"_dependencyMap"],[24,50,17,35],[25,2,44,0],[25,8,44,6,"AuthContext"],[25,19,44,17],[25,35,44,20],[25,39,44,20,"createContext"],[25,45,44,33],[25,46,44,33,"createContext"],[25,59,44,33],[25,61,44,63,"undefined"],[25,70,44,72],[25,71,44,73],[26,2,46,7],[26,11,46,16,"AuthProvider"],[26,23,46,28,"AuthProvider"],[26,24,46,29],[27,4,46,31,"children"],[28,2,46,65],[28,3,46,66],[28,5,46,68],[29,4,46,68,"_s"],[29,6,46,68],[30,4,47,2],[30,10,47,8],[30,11,47,9,"user"],[30,15,47,13],[30,17,47,15,"setUser"],[30,24,47,22],[30,25,47,23],[30,28,47,26],[30,32,47,26,"useState"],[30,38,47,34],[30,39,47,34,"useState"],[30,47,47,34],[30,49,47,48],[30,53,47,52],[30,54,47,53],[31,4,48,2],[31,10,48,8],[31,11,48,9,"userProfile"],[31,22,48,20],[31,24,48,22,"setUserProfile"],[31,38,48,36],[31,39,48,37],[31,42,48,40],[31,46,48,40,"useState"],[31,52,48,48],[31,53,48,48,"useState"],[31,61,48,48],[31,63,48,69],[31,67,48,73],[31,68,48,74],[32,4,49,2],[32,10,49,8],[32,11,49,9,"loading"],[32,18,49,16],[32,20,49,18,"setLoading"],[32,30,49,28],[32,31,49,29],[32,34,49,32],[32,38,49,32,"useState"],[32,44,49,40],[32,45,49,40,"useState"],[32,53,49,40],[32,55,49,41],[32,59,49,45],[32,60,49,46],[33,4,51,2],[33,8,51,2,"useEffect"],[33,14,51,11],[33,15,51,11,"useEffect"],[33,24,51,11],[33,26,51,12],[33,32,51,18],[34,6,52,4],[34,12,52,10,"unsubscribe"],[34,23,52,21],[34,26,52,24],[34,30,52,24,"onAuthStateChanged"],[34,43,52,42],[34,44,52,42,"onAuthStateChanged"],[34,62,52,42],[34,64,52,43,"auth"],[34,79,52,47],[34,80,52,47,"auth"],[34,84,52,47],[34,86,52,49],[34,92,52,56,"firebaseUser"],[34,104,52,68],[34,108,52,73],[35,8,53,6,"setUser"],[35,15,53,13],[35,16,53,14,"firebaseUser"],[35,28,53,26],[35,29,53,27],[36,8,54,6],[36,12,54,10,"firebaseUser"],[36,24,54,22],[36,26,54,24],[37,10,55,8],[37,14,55,12],[38,12,56,10],[38,18,56,16,"response"],[38,26,56,24],[38,29,56,27],[38,35,56,33,"userApi"],[38,47,56,40],[38,48,56,40,"userApi"],[38,55,56,40],[38,56,56,41,"getProfile"],[38,66,56,51],[38,67,56,52],[38,68,56,53],[39,12,57,10,"setUserProfile"],[39,26,57,24],[39,27,57,25,"response"],[39,35,57,33],[39,36,57,34,"data"],[39,40,57,38],[39,41,57,39],[41,12,59,10],[42,12,60,10],[42,16,60,14,"Platform"],[42,24,60,22],[42,25,60,22,"default"],[42,32,60,22],[42,33,60,23,"OS"],[42,35,60,25],[42,40,60,30],[42,45,60,35],[42,47,60,37],[43,14,61,12],[43,20,61,18,"pushToken"],[43,29,61,27],[43,32,61,30],[43,38,61,36],[43,42,61,36,"registerForPushNotificationsAsync"],[43,64,61,69],[43,65,61,69,"registerForPushNotificationsAsync"],[43,98,61,69],[43,100,61,70],[43,101,61,71],[44,14,62,12],[44,18,62,16,"pushToken"],[44,27,62,25],[44,29,62,27],[45,16,63,14],[45,22,63,20],[45,26,63,20,"savePushToken"],[45,48,63,33],[45,49,63,33,"savePushToken"],[45,62,63,33],[45,64,63,34,"pushToken"],[45,73,63,43],[45,74,63,44],[46,14,64,12],[47,12,65,10],[48,10,66,8],[48,11,66,9],[48,12,66,10],[48,19,66,17,"error"],[48,24,66,22],[48,26,66,24],[49,12,67,10,"console"],[49,19,67,17],[49,20,67,18,"error"],[49,25,67,23],[49,26,67,24],[49,51,67,49],[49,53,67,51,"error"],[49,58,67,56],[49,59,67,57],[50,10,68,8],[51,8,69,6],[51,9,69,7],[51,15,69,13],[52,10,70,8,"setUserProfile"],[52,24,70,22],[52,25,70,23],[52,29,70,27],[52,30,70,28],[53,8,71,6],[54,8,72,6,"setLoading"],[54,18,72,16],[54,19,72,17],[54,24,72,22],[54,25,72,23],[55,6,73,4],[55,7,73,5],[55,8,73,6],[57,6,75,4],[58,6,76,4],[58,10,76,8,"notificationListener"],[58,30,76,33],[59,6,77,4],[59,10,77,8,"responseListener"],[59,26,77,29],[60,6,79,4],[60,10,79,8,"Platform"],[60,18,79,16],[60,19,79,16,"default"],[60,26,79,16],[60,27,79,17,"OS"],[60,29,79,19],[60,34,79,24],[60,39,79,29],[60,41,79,31],[61,8,80,6,"notificationListener"],[61,28,80,26],[61,31,80,29],[61,35,80,29,"addNotificationReceivedListener"],[61,57,80,60],[61,58,80,60,"addNotificationReceivedListener"],[61,89,80,60],[61,91,80,61,"notification"],[61,103,80,73],[61,107,80,77],[62,10,81,8,"console"],[62,17,81,15],[62,18,81,16,"log"],[62,21,81,19],[62,22,81,20],[62,40,81,38],[62,42,81,40,"notification"],[62,54,81,52],[62,55,81,53],[63,8,82,6],[63,9,82,7],[63,10,82,8],[64,8,84,6,"responseListener"],[64,24,84,22],[64,27,84,25],[64,31,84,25,"addNotificationResponseReceivedListener"],[64,53,84,64],[64,54,84,64,"addNotificationResponseReceivedListener"],[64,93,84,64],[64,95,84,65,"response"],[64,103,84,73],[64,107,84,77],[65,10,85,8,"console"],[65,17,85,15],[65,18,85,16,"log"],[65,21,85,19],[65,22,85,20],[65,43,85,41],[65,45,85,43,"response"],[65,53,85,51],[65,54,85,52],[66,10,86,8],[67,10,87,8],[68,8,88,6],[68,9,88,7],[68,10,88,8],[69,6,89,4],[70,6,91,4],[70,13,91,11],[70,19,91,17],[71,8,92,6,"unsubscribe"],[71,19,92,17],[71,20,92,18],[71,21,92,19],[72,8,93,6],[72,12,93,10,"notificationListener"],[72,32,93,30],[72,34,93,32,"notificationListener"],[72,54,93,52],[72,55,93,53,"remove"],[72,61,93,59],[72,62,93,60],[72,63,93,61],[73,8,94,6],[73,12,94,10,"responseListener"],[73,28,94,26],[73,30,94,28,"responseListener"],[73,46,94,44],[73,47,94,45,"remove"],[73,53,94,51],[73,54,94,52],[73,55,94,53],[74,6,95,4],[74,7,95,5],[75,4,96,2],[75,5,96,3],[75,7,96,5],[75,9,96,7],[75,10,96,8],[76,4,98,2],[76,10,98,8,"signIn"],[76,16,98,14],[76,19,98,17],[76,25,98,17,"signIn"],[76,26,98,24,"email"],[76,31,98,37],[76,33,98,39,"password"],[76,41,98,55],[76,46,98,60],[77,6,99,4],[77,12,99,10],[77,16,99,10,"signInWithEmailAndPassword"],[77,29,99,36],[77,30,99,36,"signInWithEmailAndPassword"],[77,56,99,36],[77,58,99,37,"auth"],[77,73,99,41],[77,74,99,41,"auth"],[77,78,99,41],[77,80,99,43,"email"],[77,85,99,48],[77,87,99,50,"password"],[77,95,99,58],[77,96,99,59],[78,4,100,2],[78,5,100,3],[79,4,102,2],[79,10,102,8,"signUp"],[79,16,102,14],[79,19,102,17],[79,25,102,17,"signUp"],[79,26,102,24,"email"],[79,31,102,37],[79,33,102,39,"password"],[79,41,102,55],[79,46,102,60],[80,6,103,4],[80,12,103,10],[80,16,103,10,"createUserWithEmailAndPassword"],[80,29,103,40],[80,30,103,40,"createUserWithEmailAndPassword"],[80,60,103,40],[80,62,103,41,"auth"],[80,77,103,45],[80,78,103,45,"auth"],[80,82,103,45],[80,84,103,47,"email"],[80,89,103,52],[80,91,103,54,"password"],[80,99,103,62],[80,100,103,63],[81,4,104,2],[81,5,104,3],[82,4,106,2],[82,10,106,8,"signOut"],[82,17,106,15],[82,20,106,18],[82,26,106,18,"signOut"],[82,27,106,18],[82,32,106,30],[83,6,107,4],[83,12,107,10],[83,16,107,10,"firebaseSignOut"],[83,29,107,25],[83,30,107,25,"signOut"],[83,37,107,25],[83,39,107,26,"auth"],[83,54,107,30],[83,55,107,30,"auth"],[83,59,107,30],[83,60,107,31],[84,6,108,4,"setUserProfile"],[84,20,108,18],[84,21,108,19],[84,25,108,23],[84,26,108,24],[85,4,109,2],[85,5,109,3],[86,4,111,2],[86,10,111,8,"registerProfile"],[86,25,111,23],[86,28,111,26],[86,34,111,33,"data"],[86,38,111,42],[86,42,111,47],[87,6,112,4],[87,12,112,10,"response"],[87,20,112,18],[87,23,112,21],[87,29,112,27,"userApi"],[87,41,112,34],[87,42,112,34,"userApi"],[87,49,112,34],[87,50,112,35,"register"],[87,58,112,43],[87,59,112,44,"data"],[87,63,112,48],[87,64,112,49],[88,6,113,4,"setUserProfile"],[88,20,113,18],[88,21,113,19,"response"],[88,29,113,27],[88,30,113,28,"data"],[88,34,113,32],[88,35,113,33],[89,4,114,2],[89,5,114,3],[90,4,116,2],[90,10,116,8,"refreshProfile"],[90,24,116,22],[90,27,116,25],[90,33,116,25,"refreshProfile"],[90,34,116,25],[90,39,116,37],[91,6,117,4],[91,10,117,8,"user"],[91,14,117,12],[91,16,117,14],[92,8,118,6],[92,14,118,12,"response"],[92,22,118,20],[92,25,118,23],[92,31,118,29,"userApi"],[92,43,118,36],[92,44,118,36,"userApi"],[92,51,118,36],[92,52,118,37,"getProfile"],[92,62,118,47],[92,63,118,48],[92,64,118,49],[93,8,119,6,"setUserProfile"],[93,22,119,20],[93,23,119,21,"response"],[93,31,119,29],[93,32,119,30,"data"],[93,36,119,34],[93,37,119,35],[94,6,120,4],[95,4,121,2],[95,5,121,3],[96,4,123,2],[96,24,124,4],[96,28,124,4,"_reactJsxDevRuntime"],[96,47,124,4],[96,48,124,4,"jsxDEV"],[96,54,124,4],[96,56,124,5,"AuthContext"],[96,67,124,16],[96,68,124,17,"Provider"],[96,76,124,25],[97,6,124,26,"value"],[97,11,124,31],[97,13,124,33],[98,8,125,6,"user"],[98,12,125,10],[99,8,126,6,"userProfile"],[99,19,126,17],[100,8,127,6,"loading"],[100,15,127,13],[101,8,128,6,"signIn"],[101,14,128,12],[102,8,129,6,"signUp"],[102,14,129,12],[103,8,130,6,"signOut"],[103,15,130,13],[104,8,131,6,"registerProfile"],[104,23,131,21],[105,8,132,6,"refreshProfile"],[106,6,133,4],[106,7,133,6],[107,6,133,6,"children"],[107,14,133,6],[107,16,134,7,"children"],[108,4,134,15],[109,6,134,15,"fileName"],[109,14,134,15],[109,16,134,15,"_jsxFileName"],[109,28,134,15],[110,6,134,15,"lineNumber"],[110,16,134,15],[111,6,134,15,"columnNumber"],[111,18,134,15],[112,4,134,15],[112,11,135,26],[112,12,135,27],[113,2,137,0],[114,2,137,1,"_s"],[114,4,137,1],[114,5,46,16,"AuthProvider"],[114,17,46,28],[115,2,46,28,"_c"],[115,4,46,28],[115,7,46,16,"AuthProvider"],[115,19,46,28],[116,2,139,7],[116,11,139,16,"useAuth"],[116,18,139,23,"useAuth"],[116,19,139,23],[116,21,139,26],[117,4,139,26,"_s2"],[117,7,139,26],[118,4,140,2],[118,10,140,8,"context"],[118,17,140,15],[118,20,140,18],[118,24,140,18,"useContext"],[118,30,140,28],[118,31,140,28,"useContext"],[118,41,140,28],[118,43,140,29,"AuthContext"],[118,54,140,40],[118,55,140,41],[119,4,141,2],[119,8,141,6,"context"],[119,15,141,13],[119,20,141,18,"undefined"],[119,29,141,27],[119,31,141,29],[120,6,142,4],[120,12,142,10],[120,16,142,14,"Error"],[120,21,142,19],[120,22,142,20],[120,67,142,65],[120,68,142,66],[121,4,143,2],[122,4,144,2],[122,11,144,9,"context"],[122,18,144,16],[123,2,145,0],[124,2,145,1,"_s2"],[124,5,145,1],[124,6,139,16,"useAuth"],[124,13,139,23],[125,2,139,23],[125,6,139,23,"_c"],[125,8,139,23],[126,2,139,23,"$RefreshReg$"],[126,14,139,23],[126,15,139,23,"_c"],[126,17,139,23],[127,0,139,23],[127,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","onAuthStateChanged$argument_1","addNotificationReceivedListener$argument_0","addNotificationResponseReceivedListener$argument_0","<anonymous>","signIn","signUp","signOut","registerProfile","refreshProfile","useAuth"],"mappings":"AAA;OC6C;YCK;iDCC;KDqB;6DEO;OFE;iEGE;OHI;WIG;KJI;GDC;iBME;GNE;iBOE;GPE;kBQE;GRG;0BSE;GTG;yBUE;GVK;CDgB;OYE;CZM"},"hasCjsExports":false},"type":"js/module"}]}