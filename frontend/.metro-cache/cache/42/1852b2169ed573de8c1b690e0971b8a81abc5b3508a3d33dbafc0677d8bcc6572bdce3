{"dependencies":[{"name":"./constants","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":17,"index":124},"end":{"line":8,"column":39,"index":146}}],"key":"3z43bJyk/UB4EKjDCOXTFak09do=","exportNames":["*"],"imports":1}},{"name":"../utilities/logger","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":14,"index":163},"end":{"line":10,"column":44,"index":193}}],"key":"AXAaeNcHem3n036ySsTX8ck01hs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.reducer = void 0;\n  var _constants = require(_dependencyMap[0], \"./constants\");\n  var _logger = require(_dependencyMap[1], \"../utilities/logger\");\n  const registerHost = (state, hostName) => {\n    if (!(hostName in state)) {\n      state[hostName] = [];\n    }\n    return state;\n  };\n  const deregisterHost = (state, hostName) => {\n    delete state[hostName];\n    return state;\n  };\n  const addUpdatePortal = (state, hostName, portalName, node) => {\n    if (!(hostName in state)) {\n      state = registerHost(state, hostName);\n    }\n    /**\n     * updated portal, if it was already added.\n     */\n\n    const index = state[hostName].findIndex(item => item.name === portalName);\n    if (index !== -1) {\n      state[hostName][index].node = node;\n    } else {\n      state[hostName].push({\n        name: portalName,\n        node\n      });\n    }\n    return state;\n  };\n  const removePortal = (state, hostName, portalName) => {\n    if (!(hostName in state)) {\n      (0, _logger.print)({\n        component: reducer.name,\n        method: removePortal.name,\n        params: \"Failed to remove portal '\".concat(portalName, \"', '\").concat(hostName, \"' was not registered!\")\n      });\n      return state;\n    }\n    const index = state[hostName].findIndex(item => item.name === portalName);\n    if (index !== -1) state[hostName].splice(index, 1);\n    return state;\n  };\n  const reducer = (state, action) => {\n    const {\n      type\n    } = action;\n    let clonedState = {\n      ...state\n    };\n    switch (type) {\n      case _constants.ACTIONS.REGISTER_HOST:\n        return registerHost(clonedState, action.hostName);\n      case _constants.ACTIONS.DEREGISTER_HOST:\n        return deregisterHost(clonedState, action.hostName);\n      case _constants.ACTIONS.ADD_UPDATE_PORTAL:\n        return addUpdatePortal(clonedState, action.hostName, action.portalName, action.node);\n      case _constants.ACTIONS.REMOVE_PORTAL:\n        return removePortal(clonedState, action.hostName, action.portalName);\n      default:\n        return state;\n    }\n  };\n  exports.reducer = reducer;\n});","lineCount":73,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"reducer"],[7,17,6,15],[7,20,6,18],[7,25,6,23],[7,26,6,24],[8,2,8,0],[8,6,8,4,"_constants"],[8,16,8,14],[8,19,8,17,"require"],[8,26,8,24],[8,27,8,24,"_dependencyMap"],[8,41,8,24],[8,59,8,38],[8,60,8,39],[9,2,10,0],[9,6,10,4,"_logger"],[9,13,10,11],[9,16,10,14,"require"],[9,23,10,21],[9,24,10,21,"_dependencyMap"],[9,38,10,21],[9,64,10,43],[9,65,10,44],[10,2,12,0],[10,8,12,6,"registerHost"],[10,20,12,18],[10,23,12,21,"registerHost"],[10,24,12,22,"state"],[10,29,12,27],[10,31,12,29,"hostName"],[10,39,12,37],[10,44,12,42],[11,4,13,2],[11,8,13,6],[11,10,13,8,"hostName"],[11,18,13,16],[11,22,13,20,"state"],[11,27,13,25],[11,28,13,26],[11,30,13,28],[12,6,14,4,"state"],[12,11,14,9],[12,12,14,10,"hostName"],[12,20,14,18],[12,21,14,19],[12,24,14,22],[12,26,14,24],[13,4,15,2],[14,4,17,2],[14,11,17,9,"state"],[14,16,17,14],[15,2,18,0],[15,3,18,1],[16,2,20,0],[16,8,20,6,"deregisterHost"],[16,22,20,20],[16,25,20,23,"deregisterHost"],[16,26,20,24,"state"],[16,31,20,29],[16,33,20,31,"hostName"],[16,41,20,39],[16,46,20,44],[17,4,21,2],[17,11,21,9,"state"],[17,16,21,14],[17,17,21,15,"hostName"],[17,25,21,23],[17,26,21,24],[18,4,22,2],[18,11,22,9,"state"],[18,16,22,14],[19,2,23,0],[19,3,23,1],[20,2,25,0],[20,8,25,6,"addUpdatePortal"],[20,23,25,21],[20,26,25,24,"addUpdatePortal"],[20,27,25,25,"state"],[20,32,25,30],[20,34,25,32,"hostName"],[20,42,25,40],[20,44,25,42,"portalName"],[20,54,25,52],[20,56,25,54,"node"],[20,60,25,58],[20,65,25,63],[21,4,26,2],[21,8,26,6],[21,10,26,8,"hostName"],[21,18,26,16],[21,22,26,20,"state"],[21,27,26,25],[21,28,26,26],[21,30,26,28],[22,6,27,4,"state"],[22,11,27,9],[22,14,27,12,"registerHost"],[22,26,27,24],[22,27,27,25,"state"],[22,32,27,30],[22,34,27,32,"hostName"],[22,42,27,40],[22,43,27,41],[23,4,28,2],[24,4,29,2],[25,0,30,0],[26,0,31,0],[28,4,34,2],[28,10,34,8,"index"],[28,15,34,13],[28,18,34,16,"state"],[28,23,34,21],[28,24,34,22,"hostName"],[28,32,34,30],[28,33,34,31],[28,34,34,32,"findIndex"],[28,43,34,41],[28,44,34,42,"item"],[28,48,34,46],[28,52,34,50,"item"],[28,56,34,54],[28,57,34,55,"name"],[28,61,34,59],[28,66,34,64,"portalName"],[28,76,34,74],[28,77,34,75],[29,4,36,2],[29,8,36,6,"index"],[29,13,36,11],[29,18,36,16],[29,19,36,17],[29,20,36,18],[29,22,36,20],[30,6,37,4,"state"],[30,11,37,9],[30,12,37,10,"hostName"],[30,20,37,18],[30,21,37,19],[30,22,37,20,"index"],[30,27,37,25],[30,28,37,26],[30,29,37,27,"node"],[30,33,37,31],[30,36,37,34,"node"],[30,40,37,38],[31,4,38,2],[31,5,38,3],[31,11,38,9],[32,6,39,4,"state"],[32,11,39,9],[32,12,39,10,"hostName"],[32,20,39,18],[32,21,39,19],[32,22,39,20,"push"],[32,26,39,24],[32,27,39,25],[33,8,40,6,"name"],[33,12,40,10],[33,14,40,12,"portalName"],[33,24,40,22],[34,8,41,6,"node"],[35,6,42,4],[35,7,42,5],[35,8,42,6],[36,4,43,2],[37,4,45,2],[37,11,45,9,"state"],[37,16,45,14],[38,2,46,0],[38,3,46,1],[39,2,48,0],[39,8,48,6,"removePortal"],[39,20,48,18],[39,23,48,21,"removePortal"],[39,24,48,22,"state"],[39,29,48,27],[39,31,48,29,"hostName"],[39,39,48,37],[39,41,48,39,"portalName"],[39,51,48,49],[39,56,48,54],[40,4,49,2],[40,8,49,6],[40,10,49,8,"hostName"],[40,18,49,16],[40,22,49,20,"state"],[40,27,49,25],[40,28,49,26],[40,30,49,28],[41,6,50,4],[41,7,50,5],[41,8,50,6],[41,10,50,8,"_logger"],[41,17,50,15],[41,18,50,16,"print"],[41,23,50,21],[41,25,50,23],[42,8,51,6,"component"],[42,17,51,15],[42,19,51,17,"reducer"],[42,26,51,24],[42,27,51,25,"name"],[42,31,51,29],[43,8,52,6,"method"],[43,14,52,12],[43,16,52,14,"removePortal"],[43,28,52,26],[43,29,52,27,"name"],[43,33,52,31],[44,8,53,6,"params"],[44,14,53,12],[44,16,53,14],[44,43,53,41],[44,44,53,42,"concat"],[44,50,53,48],[44,51,53,49,"portalName"],[44,61,53,59],[44,63,53,61],[44,69,53,67],[44,70,53,68],[44,71,53,69,"concat"],[44,77,53,75],[44,78,53,76,"hostName"],[44,86,53,84],[44,88,53,86],[44,111,53,109],[45,6,54,4],[45,7,54,5],[45,8,54,6],[46,6,55,4],[46,13,55,11,"state"],[46,18,55,16],[47,4,56,2],[48,4,58,2],[48,10,58,8,"index"],[48,15,58,13],[48,18,58,16,"state"],[48,23,58,21],[48,24,58,22,"hostName"],[48,32,58,30],[48,33,58,31],[48,34,58,32,"findIndex"],[48,43,58,41],[48,44,58,42,"item"],[48,48,58,46],[48,52,58,50,"item"],[48,56,58,54],[48,57,58,55,"name"],[48,61,58,59],[48,66,58,64,"portalName"],[48,76,58,74],[48,77,58,75],[49,4,59,2],[49,8,59,6,"index"],[49,13,59,11],[49,18,59,16],[49,19,59,17],[49,20,59,18],[49,22,59,20,"state"],[49,27,59,25],[49,28,59,26,"hostName"],[49,36,59,34],[49,37,59,35],[49,38,59,36,"splice"],[49,44,59,42],[49,45,59,43,"index"],[49,50,59,48],[49,52,59,50],[49,53,59,51],[49,54,59,52],[50,4,60,2],[50,11,60,9,"state"],[50,16,60,14],[51,2,61,0],[51,3,61,1],[52,2,63,0],[52,8,63,6,"reducer"],[52,15,63,13],[52,18,63,16,"reducer"],[52,19,63,17,"state"],[52,24,63,22],[52,26,63,24,"action"],[52,32,63,30],[52,37,63,35],[53,4,64,2],[53,10,64,8],[54,6,65,4,"type"],[55,4,66,2],[55,5,66,3],[55,8,66,6,"action"],[55,14,66,12],[56,4,67,2],[56,8,67,6,"clonedState"],[56,19,67,17],[56,22,67,20],[57,6,67,22],[57,9,67,25,"state"],[58,4,68,2],[58,5,68,3],[59,4,70,2],[59,12,70,10,"type"],[59,16,70,14],[60,6,71,4],[60,11,71,9,"_constants"],[60,21,71,19],[60,22,71,20,"ACTIONS"],[60,29,71,27],[60,30,71,28,"REGISTER_HOST"],[60,43,71,41],[61,8,72,6],[61,15,72,13,"registerHost"],[61,27,72,25],[61,28,72,26,"clonedState"],[61,39,72,37],[61,41,72,39,"action"],[61,47,72,45],[61,48,72,46,"hostName"],[61,56,72,54],[61,57,72,55],[62,6,74,4],[62,11,74,9,"_constants"],[62,21,74,19],[62,22,74,20,"ACTIONS"],[62,29,74,27],[62,30,74,28,"DEREGISTER_HOST"],[62,45,74,43],[63,8,75,6],[63,15,75,13,"deregisterHost"],[63,29,75,27],[63,30,75,28,"clonedState"],[63,41,75,39],[63,43,75,41,"action"],[63,49,75,47],[63,50,75,48,"hostName"],[63,58,75,56],[63,59,75,57],[64,6,77,4],[64,11,77,9,"_constants"],[64,21,77,19],[64,22,77,20,"ACTIONS"],[64,29,77,27],[64,30,77,28,"ADD_UPDATE_PORTAL"],[64,47,77,45],[65,8,78,6],[65,15,78,13,"addUpdatePortal"],[65,30,78,28],[65,31,78,29,"clonedState"],[65,42,78,40],[65,44,78,42,"action"],[65,50,78,48],[65,51,78,49,"hostName"],[65,59,78,57],[65,61,78,59,"action"],[65,67,78,65],[65,68,78,66,"portalName"],[65,78,78,76],[65,80,78,78,"action"],[65,86,78,84],[65,87,78,85,"node"],[65,91,78,89],[65,92,78,90],[66,6,80,4],[66,11,80,9,"_constants"],[66,21,80,19],[66,22,80,20,"ACTIONS"],[66,29,80,27],[66,30,80,28,"REMOVE_PORTAL"],[66,43,80,41],[67,8,81,6],[67,15,81,13,"removePortal"],[67,27,81,25],[67,28,81,26,"clonedState"],[67,39,81,37],[67,41,81,39,"action"],[67,47,81,45],[67,48,81,46,"hostName"],[67,56,81,54],[67,58,81,56,"action"],[67,64,81,62],[67,65,81,63,"portalName"],[67,75,81,73],[67,76,81,74],[68,6,83,4],[69,8,84,6],[69,15,84,13,"state"],[69,20,84,18],[70,4,85,2],[71,2,86,0],[71,3,86,1],[72,2,88,0,"exports"],[72,9,88,7],[72,10,88,8,"reducer"],[72,17,88,15],[72,20,88,18,"reducer"],[72,27,88,25],[73,0,88,26],[73,3]],"functionMap":{"names":["<global>","registerHost","deregisterHost","addUpdatePortal","state.hostName.findIndex$argument_0","removePortal","reducer"],"mappings":"AAA;qBCW;CDM;uBEE;CFG;wBGE;0CCS,gCD;CHY;qBKE;0CDU,gCC;CLG;gBME;CNuB"},"hasCjsExports":true},"type":"js/module"}]}