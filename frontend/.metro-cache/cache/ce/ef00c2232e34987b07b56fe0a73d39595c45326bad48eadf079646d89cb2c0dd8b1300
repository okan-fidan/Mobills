{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../config/firebase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":131},"end":{"line":3,"column":42,"index":173}}],"key":"K/SZPG5sPeV1upVh8dao26aG7MQ=","exportNames":["*"],"imports":1}},{"name":"firebase/auth","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":174},"end":{"line":10,"column":23,"index":332}}],"key":"o2UvaebosmgxImAY7KlhPO3FnYs=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":333},"end":{"line":11,"column":42,"index":375}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"../services/notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":376},"end":{"line":17,"column":35,"index":553}}],"key":"PilFUkBfYpg1cVGLNRiWDw/oULQ=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _configFirebase = require(_dependencyMap[2], \"../config/firebase\");\n  var _firebaseAuth = require(_dependencyMap[3], \"firebase/auth\");\n  var _servicesApi = require(_dependencyMap[4], \"../services/api\");\n  var _servicesNotifications = require(_dependencyMap[5], \"../services/notifications\");\n  var _reactJsxDevRuntime = require(_dependencyMap[6], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [userProfile, setUserProfile] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      const unsubscribe = (0, _firebaseAuth.onAuthStateChanged)(_configFirebase.auth, async firebaseUser => {\n        setUser(firebaseUser);\n        if (firebaseUser) {\n          try {\n            const response = await _servicesApi.userApi.getProfile();\n            setUserProfile(response.data);\n\n            // Push notification kaydı (sadece mobil cihazlarda)\n            if (Platform.default.OS !== 'web') {\n              const pushToken = await (0, _servicesNotifications.registerForPushNotificationsAsync)();\n              if (pushToken) {\n                await (0, _servicesNotifications.savePushToken)(pushToken);\n              }\n            }\n          } catch (error) {\n            console.error('Error fetching profile:', error);\n          }\n        } else {\n          setUserProfile(null);\n        }\n        setLoading(false);\n      });\n\n      // Notification listener'ları (sadece mobil cihazlarda)\n      let notificationListener;\n      let responseListener;\n      if (Platform.default.OS !== 'web') {\n        notificationListener = (0, _servicesNotifications.addNotificationReceivedListener)(notification => {\n          console.log('Bildirim alındı:', notification);\n        });\n        responseListener = (0, _servicesNotifications.addNotificationResponseReceivedListener)(response => {\n          console.log('Bildirime tıklandı:', response);\n          // Burada bildirime tıklandığında yapılacak işlemler\n          // Örn: ilgili sohbete yönlendirme\n        });\n      }\n      return () => {\n        unsubscribe();\n        if (notificationListener) notificationListener.remove();\n        if (responseListener) responseListener.remove();\n      };\n    }, []);\n    const signIn = async (email, password) => {\n      await (0, _firebaseAuth.signInWithEmailAndPassword)(_configFirebase.auth, email, password);\n    };\n    const signUp = async (email, password) => {\n      await (0, _firebaseAuth.createUserWithEmailAndPassword)(_configFirebase.auth, email, password);\n    };\n    const signOut = async () => {\n      await (0, _firebaseAuth.signOut)(_configFirebase.auth);\n      setUserProfile(null);\n    };\n    const registerProfile = async data => {\n      const response = await _servicesApi.userApi.register(data);\n      setUserProfile(response.data);\n    };\n    const refreshProfile = async () => {\n      if (user) {\n        const response = await _servicesApi.userApi.getProfile();\n        setUserProfile(response.data);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        userProfile,\n        loading,\n        signIn,\n        signUp,\n        signOut,\n        registerProfile,\n        refreshProfile\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":118,"map":[[13,2,46,0,"exports"],[13,9,46,0],[13,10,46,0,"AuthProvider"],[13,22,46,0],[13,25,46,0,"AuthProvider"],[13,37,46,0],[14,2,139,0,"exports"],[14,9,139,0],[14,10,139,0,"useAuth"],[14,17,139,0],[14,20,139,0,"useAuth"],[14,27,139,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,1,89],[16,6,1,89,"_reactNativeWebDistExportsPlatform"],[16,40,1,89],[16,43,1,89,"require"],[16,50,1,89],[16,51,1,89,"_dependencyMap"],[16,65,1,89],[17,2,1,89],[17,6,1,89,"Platform"],[17,14,1,89],[17,17,1,89,"_interopDefault"],[17,32,1,89],[17,33,1,89,"_reactNativeWebDistExportsPlatform"],[17,67,1,89],[18,2,3,0],[18,6,3,0,"_configFirebase"],[18,21,3,0],[18,24,3,0,"require"],[18,31,3,0],[18,32,3,0,"_dependencyMap"],[18,46,3,0],[19,2,4,0],[19,6,4,0,"_firebaseAuth"],[19,19,4,0],[19,22,4,0,"require"],[19,29,4,0],[19,30,4,0,"_dependencyMap"],[19,44,4,0],[20,2,11,0],[20,6,11,0,"_servicesApi"],[20,18,11,0],[20,21,11,0,"require"],[20,28,11,0],[20,29,11,0,"_dependencyMap"],[20,43,11,0],[21,2,12,0],[21,6,12,0,"_servicesNotifications"],[21,28,12,0],[21,31,12,0,"require"],[21,38,12,0],[21,39,12,0,"_dependencyMap"],[21,53,12,0],[22,2,17,35],[22,6,17,35,"_reactJsxDevRuntime"],[22,25,17,35],[22,28,17,35,"require"],[22,35,17,35],[22,36,17,35,"_dependencyMap"],[22,50,17,35],[23,2,44,0],[23,8,44,6,"AuthContext"],[23,19,44,17],[23,35,44,20],[23,39,44,20,"createContext"],[23,45,44,33],[23,46,44,33,"createContext"],[23,59,44,33],[23,61,44,63,"undefined"],[23,70,44,72],[23,71,44,73],[24,2,46,7],[24,11,46,16,"AuthProvider"],[24,23,46,28,"AuthProvider"],[24,24,46,29],[25,4,46,31,"children"],[26,2,46,65],[26,3,46,66],[26,5,46,68],[27,4,47,2],[27,10,47,8],[27,11,47,9,"user"],[27,15,47,13],[27,17,47,15,"setUser"],[27,24,47,22],[27,25,47,23],[27,28,47,26],[27,32,47,26,"useState"],[27,38,47,34],[27,39,47,34,"useState"],[27,47,47,34],[27,49,47,48],[27,53,47,52],[27,54,47,53],[28,4,48,2],[28,10,48,8],[28,11,48,9,"userProfile"],[28,22,48,20],[28,24,48,22,"setUserProfile"],[28,38,48,36],[28,39,48,37],[28,42,48,40],[28,46,48,40,"useState"],[28,52,48,48],[28,53,48,48,"useState"],[28,61,48,48],[28,63,48,69],[28,67,48,73],[28,68,48,74],[29,4,49,2],[29,10,49,8],[29,11,49,9,"loading"],[29,18,49,16],[29,20,49,18,"setLoading"],[29,30,49,28],[29,31,49,29],[29,34,49,32],[29,38,49,32,"useState"],[29,44,49,40],[29,45,49,40,"useState"],[29,53,49,40],[29,55,49,41],[29,59,49,45],[29,60,49,46],[30,4,51,2],[30,8,51,2,"useEffect"],[30,14,51,11],[30,15,51,11,"useEffect"],[30,24,51,11],[30,26,51,12],[30,32,51,18],[31,6,52,4],[31,12,52,10,"unsubscribe"],[31,23,52,21],[31,26,52,24],[31,30,52,24,"onAuthStateChanged"],[31,43,52,42],[31,44,52,42,"onAuthStateChanged"],[31,62,52,42],[31,64,52,43,"auth"],[31,79,52,47],[31,80,52,47,"auth"],[31,84,52,47],[31,86,52,49],[31,92,52,56,"firebaseUser"],[31,104,52,68],[31,108,52,73],[32,8,53,6,"setUser"],[32,15,53,13],[32,16,53,14,"firebaseUser"],[32,28,53,26],[32,29,53,27],[33,8,54,6],[33,12,54,10,"firebaseUser"],[33,24,54,22],[33,26,54,24],[34,10,55,8],[34,14,55,12],[35,12,56,10],[35,18,56,16,"response"],[35,26,56,24],[35,29,56,27],[35,35,56,33,"userApi"],[35,47,56,40],[35,48,56,40,"userApi"],[35,55,56,40],[35,56,56,41,"getProfile"],[35,66,56,51],[35,67,56,52],[35,68,56,53],[36,12,57,10,"setUserProfile"],[36,26,57,24],[36,27,57,25,"response"],[36,35,57,33],[36,36,57,34,"data"],[36,40,57,38],[36,41,57,39],[38,12,59,10],[39,12,60,10],[39,16,60,14,"Platform"],[39,24,60,22],[39,25,60,22,"default"],[39,32,60,22],[39,33,60,23,"OS"],[39,35,60,25],[39,40,60,30],[39,45,60,35],[39,47,60,37],[40,14,61,12],[40,20,61,18,"pushToken"],[40,29,61,27],[40,32,61,30],[40,38,61,36],[40,42,61,36,"registerForPushNotificationsAsync"],[40,64,61,69],[40,65,61,69,"registerForPushNotificationsAsync"],[40,98,61,69],[40,100,61,70],[40,101,61,71],[41,14,62,12],[41,18,62,16,"pushToken"],[41,27,62,25],[41,29,62,27],[42,16,63,14],[42,22,63,20],[42,26,63,20,"savePushToken"],[42,48,63,33],[42,49,63,33,"savePushToken"],[42,62,63,33],[42,64,63,34,"pushToken"],[42,73,63,43],[42,74,63,44],[43,14,64,12],[44,12,65,10],[45,10,66,8],[45,11,66,9],[45,12,66,10],[45,19,66,17,"error"],[45,24,66,22],[45,26,66,24],[46,12,67,10,"console"],[46,19,67,17],[46,20,67,18,"error"],[46,25,67,23],[46,26,67,24],[46,51,67,49],[46,53,67,51,"error"],[46,58,67,56],[46,59,67,57],[47,10,68,8],[48,8,69,6],[48,9,69,7],[48,15,69,13],[49,10,70,8,"setUserProfile"],[49,24,70,22],[49,25,70,23],[49,29,70,27],[49,30,70,28],[50,8,71,6],[51,8,72,6,"setLoading"],[51,18,72,16],[51,19,72,17],[51,24,72,22],[51,25,72,23],[52,6,73,4],[52,7,73,5],[52,8,73,6],[54,6,75,4],[55,6,76,4],[55,10,76,8,"notificationListener"],[55,30,76,33],[56,6,77,4],[56,10,77,8,"responseListener"],[56,26,77,29],[57,6,79,4],[57,10,79,8,"Platform"],[57,18,79,16],[57,19,79,16,"default"],[57,26,79,16],[57,27,79,17,"OS"],[57,29,79,19],[57,34,79,24],[57,39,79,29],[57,41,79,31],[58,8,80,6,"notificationListener"],[58,28,80,26],[58,31,80,29],[58,35,80,29,"addNotificationReceivedListener"],[58,57,80,60],[58,58,80,60,"addNotificationReceivedListener"],[58,89,80,60],[58,91,80,61,"notification"],[58,103,80,73],[58,107,80,77],[59,10,81,8,"console"],[59,17,81,15],[59,18,81,16,"log"],[59,21,81,19],[59,22,81,20],[59,40,81,38],[59,42,81,40,"notification"],[59,54,81,52],[59,55,81,53],[60,8,82,6],[60,9,82,7],[60,10,82,8],[61,8,84,6,"responseListener"],[61,24,84,22],[61,27,84,25],[61,31,84,25,"addNotificationResponseReceivedListener"],[61,53,84,64],[61,54,84,64,"addNotificationResponseReceivedListener"],[61,93,84,64],[61,95,84,65,"response"],[61,103,84,73],[61,107,84,77],[62,10,85,8,"console"],[62,17,85,15],[62,18,85,16,"log"],[62,21,85,19],[62,22,85,20],[62,43,85,41],[62,45,85,43,"response"],[62,53,85,51],[62,54,85,52],[63,10,86,8],[64,10,87,8],[65,8,88,6],[65,9,88,7],[65,10,88,8],[66,6,89,4],[67,6,91,4],[67,13,91,11],[67,19,91,17],[68,8,92,6,"unsubscribe"],[68,19,92,17],[68,20,92,18],[68,21,92,19],[69,8,93,6],[69,12,93,10,"notificationListener"],[69,32,93,30],[69,34,93,32,"notificationListener"],[69,54,93,52],[69,55,93,53,"remove"],[69,61,93,59],[69,62,93,60],[69,63,93,61],[70,8,94,6],[70,12,94,10,"responseListener"],[70,28,94,26],[70,30,94,28,"responseListener"],[70,46,94,44],[70,47,94,45,"remove"],[70,53,94,51],[70,54,94,52],[70,55,94,53],[71,6,95,4],[71,7,95,5],[72,4,96,2],[72,5,96,3],[72,7,96,5],[72,9,96,7],[72,10,96,8],[73,4,98,2],[73,10,98,8,"signIn"],[73,16,98,14],[73,19,98,17],[73,25,98,17,"signIn"],[73,26,98,24,"email"],[73,31,98,37],[73,33,98,39,"password"],[73,41,98,55],[73,46,98,60],[74,6,99,4],[74,12,99,10],[74,16,99,10,"signInWithEmailAndPassword"],[74,29,99,36],[74,30,99,36,"signInWithEmailAndPassword"],[74,56,99,36],[74,58,99,37,"auth"],[74,73,99,41],[74,74,99,41,"auth"],[74,78,99,41],[74,80,99,43,"email"],[74,85,99,48],[74,87,99,50,"password"],[74,95,99,58],[74,96,99,59],[75,4,100,2],[75,5,100,3],[76,4,102,2],[76,10,102,8,"signUp"],[76,16,102,14],[76,19,102,17],[76,25,102,17,"signUp"],[76,26,102,24,"email"],[76,31,102,37],[76,33,102,39,"password"],[76,41,102,55],[76,46,102,60],[77,6,103,4],[77,12,103,10],[77,16,103,10,"createUserWithEmailAndPassword"],[77,29,103,40],[77,30,103,40,"createUserWithEmailAndPassword"],[77,60,103,40],[77,62,103,41,"auth"],[77,77,103,45],[77,78,103,45,"auth"],[77,82,103,45],[77,84,103,47,"email"],[77,89,103,52],[77,91,103,54,"password"],[77,99,103,62],[77,100,103,63],[78,4,104,2],[78,5,104,3],[79,4,106,2],[79,10,106,8,"signOut"],[79,17,106,15],[79,20,106,18],[79,26,106,18,"signOut"],[79,27,106,18],[79,32,106,30],[80,6,107,4],[80,12,107,10],[80,16,107,10,"firebaseSignOut"],[80,29,107,25],[80,30,107,25,"signOut"],[80,37,107,25],[80,39,107,26,"auth"],[80,54,107,30],[80,55,107,30,"auth"],[80,59,107,30],[80,60,107,31],[81,6,108,4,"setUserProfile"],[81,20,108,18],[81,21,108,19],[81,25,108,23],[81,26,108,24],[82,4,109,2],[82,5,109,3],[83,4,111,2],[83,10,111,8,"registerProfile"],[83,25,111,23],[83,28,111,26],[83,34,111,33,"data"],[83,38,111,42],[83,42,111,47],[84,6,112,4],[84,12,112,10,"response"],[84,20,112,18],[84,23,112,21],[84,29,112,27,"userApi"],[84,41,112,34],[84,42,112,34,"userApi"],[84,49,112,34],[84,50,112,35,"register"],[84,58,112,43],[84,59,112,44,"data"],[84,63,112,48],[84,64,112,49],[85,6,113,4,"setUserProfile"],[85,20,113,18],[85,21,113,19,"response"],[85,29,113,27],[85,30,113,28,"data"],[85,34,113,32],[85,35,113,33],[86,4,114,2],[86,5,114,3],[87,4,116,2],[87,10,116,8,"refreshProfile"],[87,24,116,22],[87,27,116,25],[87,33,116,25,"refreshProfile"],[87,34,116,25],[87,39,116,37],[88,6,117,4],[88,10,117,8,"user"],[88,14,117,12],[88,16,117,14],[89,8,118,6],[89,14,118,12,"response"],[89,22,118,20],[89,25,118,23],[89,31,118,29,"userApi"],[89,43,118,36],[89,44,118,36,"userApi"],[89,51,118,36],[89,52,118,37,"getProfile"],[89,62,118,47],[89,63,118,48],[89,64,118,49],[90,8,119,6,"setUserProfile"],[90,22,119,20],[90,23,119,21,"response"],[90,31,119,29],[90,32,119,30,"data"],[90,36,119,34],[90,37,119,35],[91,6,120,4],[92,4,121,2],[92,5,121,3],[93,4,123,2],[93,24,124,4],[93,28,124,4,"_reactJsxDevRuntime"],[93,47,124,4],[93,48,124,4,"jsxDEV"],[93,54,124,4],[93,56,124,5,"AuthContext"],[93,67,124,16],[93,68,124,17,"Provider"],[93,76,124,25],[94,6,124,26,"value"],[94,11,124,31],[94,13,124,33],[95,8,125,6,"user"],[95,12,125,10],[96,8,126,6,"userProfile"],[96,19,126,17],[97,8,127,6,"loading"],[97,15,127,13],[98,8,128,6,"signIn"],[98,14,128,12],[99,8,129,6,"signUp"],[99,14,129,12],[100,8,130,6,"signOut"],[100,15,130,13],[101,8,131,6,"registerProfile"],[101,23,131,21],[102,8,132,6,"refreshProfile"],[103,6,133,4],[103,7,133,6],[104,6,133,6,"children"],[104,14,133,6],[104,16,134,7,"children"],[105,4,134,15],[106,6,134,15,"fileName"],[106,14,134,15],[106,16,134,15,"_jsxFileName"],[106,28,134,15],[107,6,134,15,"lineNumber"],[107,16,134,15],[108,6,134,15,"columnNumber"],[108,18,134,15],[109,4,134,15],[109,11,135,26],[109,12,135,27],[110,2,137,0],[111,2,139,7],[111,11,139,16,"useAuth"],[111,18,139,23,"useAuth"],[111,19,139,23],[111,21,139,26],[112,4,140,2],[112,10,140,8,"context"],[112,17,140,15],[112,20,140,18],[112,24,140,18,"useContext"],[112,30,140,28],[112,31,140,28,"useContext"],[112,41,140,28],[112,43,140,29,"AuthContext"],[112,54,140,40],[112,55,140,41],[113,4,141,2],[113,8,141,6,"context"],[113,15,141,13],[113,20,141,18,"undefined"],[113,29,141,27],[113,31,141,29],[114,6,142,4],[114,12,142,10],[114,16,142,14,"Error"],[114,21,142,19],[114,22,142,20],[114,67,142,65],[114,68,142,66],[115,4,143,2],[116,4,144,2],[116,11,144,9,"context"],[116,18,144,16],[117,2,145,0],[118,0,145,1],[118,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","onAuthStateChanged$argument_1","addNotificationReceivedListener$argument_0","addNotificationResponseReceivedListener$argument_0","<anonymous>","signIn","signUp","signOut","registerProfile","refreshProfile","useAuth"],"mappings":"AAA;OC6C;YCK;iDCC;KDqB;6DEO;OFE;iEGE;OHI;WIG;KJI;GDC;iBME;GNE;iBOE;GPE;kBQE;GRG;0BSE;GTG;yBUE;GVK;CDgB;OYE;CZM"},"hasCjsExports":false},"type":"js/module"}]}