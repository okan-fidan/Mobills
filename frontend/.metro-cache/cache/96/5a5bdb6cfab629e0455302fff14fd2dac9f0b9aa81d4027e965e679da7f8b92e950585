{"dependencies":[{"name":"./constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":38,"index":38}}],"key":"waDaw5D7vDr2hRFu0z1BqRCTzP4=","exportNames":["*"],"imports":1}},{"name":"../utilities/logger","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":39},"end":{"line":2,"column":44,"index":83}}],"key":"9pfJmT1iyRGKHa3b5FHJaETbUVI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"reducer\", {\n    enumerable: true,\n    get: function () {\n      return reducer;\n    }\n  });\n  var _constants = require(_dependencyMap[0], \"./constants\");\n  var _utilitiesLogger = require(_dependencyMap[1], \"../utilities/logger\");\n  const registerHost = (state, hostName) => {\n    if (!(hostName in state)) {\n      state[hostName] = [];\n    }\n    return state;\n  };\n  const deregisterHost = (state, hostName) => {\n    delete state[hostName];\n    return state;\n  };\n  const addUpdatePortal = (state, hostName, portalName, node) => {\n    if (!(hostName in state)) {\n      state = registerHost(state, hostName);\n    }\n    /**\n     * updated portal, if it was already added.\n     */\n\n    const index = state[hostName].findIndex(item => item.name === portalName);\n    if (index !== -1) {\n      state[hostName][index].node = node;\n    } else {\n      state[hostName].push({\n        name: portalName,\n        node\n      });\n    }\n    return state;\n  };\n  const removePortal = (state, hostName, portalName) => {\n    if (!(hostName in state)) {\n      (0, _utilitiesLogger.print)({\n        component: reducer.name,\n        method: removePortal.name,\n        params: \"Failed to remove portal '\".concat(portalName, \"', '\").concat(hostName, \"' was not registered!\")\n      });\n      return state;\n    }\n    const index = state[hostName].findIndex(item => item.name === portalName);\n    if (index !== -1) state[hostName].splice(index, 1);\n    return state;\n  };\n  const reducer = (state, action) => {\n    const {\n      type\n    } = action;\n    let clonedState = Object.assign({}, state);\n    switch (type) {\n      case _constants.ACTIONS.REGISTER_HOST:\n        return registerHost(clonedState, action.hostName);\n      case _constants.ACTIONS.DEREGISTER_HOST:\n        return deregisterHost(clonedState, action.hostName);\n      case _constants.ACTIONS.ADD_UPDATE_PORTAL:\n        return addUpdatePortal(clonedState, action.hostName, action.portalName, action.node);\n      case _constants.ACTIONS.REMOVE_PORTAL:\n        return removePortal(clonedState, action.hostName, action.portalName);\n      default:\n        return state;\n    }\n  };\n});","lineCount":75,"map":[[7,2,55,0,"Object"],[7,8,55,0],[7,9,55,0,"defineProperty"],[7,23,55,0],[7,24,55,0,"exports"],[7,31,55,0],[8,4,55,0,"enumerable"],[8,14,55,0],[9,4,55,0,"get"],[9,7,55,0],[9,18,55,0,"get"],[9,19,55,0],[10,6,55,0],[10,13,55,0,"reducer"],[10,20,55,0],[11,4,55,0],[12,2,55,0],[13,2,1,0],[13,6,1,0,"_constants"],[13,16,1,0],[13,19,1,0,"require"],[13,26,1,0],[13,27,1,0,"_dependencyMap"],[13,41,1,0],[14,2,2,0],[14,6,2,0,"_utilitiesLogger"],[14,22,2,0],[14,25,2,0,"require"],[14,32,2,0],[14,33,2,0,"_dependencyMap"],[14,47,2,0],[15,2,4,0],[15,8,4,6,"registerHost"],[15,20,4,18],[15,23,4,21,"registerHost"],[15,24,4,22,"state"],[15,29,4,27],[15,31,4,29,"hostName"],[15,39,4,37],[15,44,4,42],[16,4,5,2],[16,8,5,6],[16,10,5,8,"hostName"],[16,18,5,16],[16,22,5,20,"state"],[16,27,5,25],[16,28,5,26],[16,30,5,28],[17,6,6,4,"state"],[17,11,6,9],[17,12,6,10,"hostName"],[17,20,6,18],[17,21,6,19],[17,24,6,22],[17,26,6,24],[18,4,7,2],[19,4,9,2],[19,11,9,9,"state"],[19,16,9,14],[20,2,10,0],[20,3,10,1],[21,2,12,0],[21,8,12,6,"deregisterHost"],[21,22,12,20],[21,25,12,23,"deregisterHost"],[21,26,12,24,"state"],[21,31,12,29],[21,33,12,31,"hostName"],[21,41,12,39],[21,46,12,44],[22,4,13,2],[22,11,13,9,"state"],[22,16,13,14],[22,17,13,15,"hostName"],[22,25,13,23],[22,26,13,24],[23,4,14,2],[23,11,14,9,"state"],[23,16,14,14],[24,2,15,0],[24,3,15,1],[25,2,17,0],[25,8,17,6,"addUpdatePortal"],[25,23,17,21],[25,26,17,24,"addUpdatePortal"],[25,27,17,25,"state"],[25,32,17,30],[25,34,17,32,"hostName"],[25,42,17,40],[25,44,17,42,"portalName"],[25,54,17,52],[25,56,17,54,"node"],[25,60,17,58],[25,65,17,63],[26,4,18,2],[26,8,18,6],[26,10,18,8,"hostName"],[26,18,18,16],[26,22,18,20,"state"],[26,27,18,25],[26,28,18,26],[26,30,18,28],[27,6,19,4,"state"],[27,11,19,9],[27,14,19,12,"registerHost"],[27,26,19,24],[27,27,19,25,"state"],[27,32,19,30],[27,34,19,32,"hostName"],[27,42,19,40],[27,43,19,41],[28,4,20,2],[29,4,21,2],[30,0,22,0],[31,0,23,0],[33,4,26,2],[33,10,26,8,"index"],[33,15,26,13],[33,18,26,16,"state"],[33,23,26,21],[33,24,26,22,"hostName"],[33,32,26,30],[33,33,26,31],[33,34,26,32,"findIndex"],[33,43,26,41],[33,44,26,42,"item"],[33,48,26,46],[33,52,26,50,"item"],[33,56,26,54],[33,57,26,55,"name"],[33,61,26,59],[33,66,26,64,"portalName"],[33,76,26,74],[33,77,26,75],[34,4,28,2],[34,8,28,6,"index"],[34,13,28,11],[34,18,28,16],[34,19,28,17],[34,20,28,18],[34,22,28,20],[35,6,29,4,"state"],[35,11,29,9],[35,12,29,10,"hostName"],[35,20,29,18],[35,21,29,19],[35,22,29,20,"index"],[35,27,29,25],[35,28,29,26],[35,29,29,27,"node"],[35,33,29,31],[35,36,29,34,"node"],[35,40,29,38],[36,4,30,2],[36,5,30,3],[36,11,30,9],[37,6,31,4,"state"],[37,11,31,9],[37,12,31,10,"hostName"],[37,20,31,18],[37,21,31,19],[37,22,31,20,"push"],[37,26,31,24],[37,27,31,25],[38,8,32,6,"name"],[38,12,32,10],[38,14,32,12,"portalName"],[38,24,32,22],[39,8,33,6,"node"],[40,6,34,4],[40,7,34,5],[40,8,34,6],[41,4,35,2],[42,4,37,2],[42,11,37,9,"state"],[42,16,37,14],[43,2,38,0],[43,3,38,1],[44,2,40,0],[44,8,40,6,"removePortal"],[44,20,40,18],[44,23,40,21,"removePortal"],[44,24,40,22,"state"],[44,29,40,27],[44,31,40,29,"hostName"],[44,39,40,37],[44,41,40,39,"portalName"],[44,51,40,49],[44,56,40,54],[45,4,41,2],[45,8,41,6],[45,10,41,8,"hostName"],[45,18,41,16],[45,22,41,20,"state"],[45,27,41,25],[45,28,41,26],[45,30,41,28],[46,6,42,4],[46,10,42,4,"print"],[46,26,42,9],[46,27,42,9,"print"],[46,32,42,9],[46,34,42,10],[47,8,43,6,"component"],[47,17,43,15],[47,19,43,17,"reducer"],[47,26,43,24],[47,27,43,25,"name"],[47,31,43,29],[48,8,44,6,"method"],[48,14,44,12],[48,16,44,14,"removePortal"],[48,28,44,26],[48,29,44,27,"name"],[48,33,44,31],[49,8,45,6,"params"],[49,14,45,12],[49,16,45,14],[49,43,45,41],[49,44,45,42,"concat"],[49,50,45,48],[49,51,45,49,"portalName"],[49,61,45,59],[49,63,45,61],[49,69,45,67],[49,70,45,68],[49,71,45,69,"concat"],[49,77,45,75],[49,78,45,76,"hostName"],[49,86,45,84],[49,88,45,86],[49,111,45,109],[50,6,46,4],[50,7,46,5],[50,8,46,6],[51,6,47,4],[51,13,47,11,"state"],[51,18,47,16],[52,4,48,2],[53,4,50,2],[53,10,50,8,"index"],[53,15,50,13],[53,18,50,16,"state"],[53,23,50,21],[53,24,50,22,"hostName"],[53,32,50,30],[53,33,50,31],[53,34,50,32,"findIndex"],[53,43,50,41],[53,44,50,42,"item"],[53,48,50,46],[53,52,50,50,"item"],[53,56,50,54],[53,57,50,55,"name"],[53,61,50,59],[53,66,50,64,"portalName"],[53,76,50,74],[53,77,50,75],[54,4,51,2],[54,8,51,6,"index"],[54,13,51,11],[54,18,51,16],[54,19,51,17],[54,20,51,18],[54,22,51,20,"state"],[54,27,51,25],[54,28,51,26,"hostName"],[54,36,51,34],[54,37,51,35],[54,38,51,36,"splice"],[54,44,51,42],[54,45,51,43,"index"],[54,50,51,48],[54,52,51,50],[54,53,51,51],[54,54,51,52],[55,4,52,2],[55,11,52,9,"state"],[55,16,52,14],[56,2,53,0],[56,3,53,1],[57,2,55,7],[57,8,55,13,"reducer"],[57,15,55,20],[57,18,55,23,"reducer"],[57,19,55,24,"state"],[57,24,55,29],[57,26,55,31,"action"],[57,32,55,37],[57,37,55,42],[58,4,56,2],[58,10,56,8],[59,6,57,4,"type"],[60,4,58,2],[60,5,58,3],[60,8,58,6,"action"],[60,14,58,12],[61,4,59,2],[61,8,59,6,"clonedState"],[61,19,59,17],[61,22,59,17,"Object"],[61,28,59,17],[61,29,59,17,"assign"],[61,35,59,17],[61,40,59,25,"state"],[61,45,59,30],[61,46,60,3],[62,4,62,2],[62,12,62,10,"type"],[62,16,62,14],[63,6,63,4],[63,11,63,9,"ACTIONS"],[63,21,63,16],[63,22,63,16,"ACTIONS"],[63,29,63,16],[63,30,63,17,"REGISTER_HOST"],[63,43,63,30],[64,8,64,6],[64,15,64,13,"registerHost"],[64,27,64,25],[64,28,64,26,"clonedState"],[64,39,64,37],[64,41,64,39,"action"],[64,47,64,45],[64,48,64,46,"hostName"],[64,56,64,54],[64,57,64,55],[65,6,66,4],[65,11,66,9,"ACTIONS"],[65,21,66,16],[65,22,66,16,"ACTIONS"],[65,29,66,16],[65,30,66,17,"DEREGISTER_HOST"],[65,45,66,32],[66,8,67,6],[66,15,67,13,"deregisterHost"],[66,29,67,27],[66,30,67,28,"clonedState"],[66,41,67,39],[66,43,67,41,"action"],[66,49,67,47],[66,50,67,48,"hostName"],[66,58,67,56],[66,59,67,57],[67,6,69,4],[67,11,69,9,"ACTIONS"],[67,21,69,16],[67,22,69,16,"ACTIONS"],[67,29,69,16],[67,30,69,17,"ADD_UPDATE_PORTAL"],[67,47,69,34],[68,8,70,6],[68,15,70,13,"addUpdatePortal"],[68,30,70,28],[68,31,70,29,"clonedState"],[68,42,70,40],[68,44,70,42,"action"],[68,50,70,48],[68,51,70,49,"hostName"],[68,59,70,57],[68,61,70,59,"action"],[68,67,70,65],[68,68,70,66,"portalName"],[68,78,70,76],[68,80,70,78,"action"],[68,86,70,84],[68,87,70,85,"node"],[68,91,70,89],[68,92,70,90],[69,6,72,4],[69,11,72,9,"ACTIONS"],[69,21,72,16],[69,22,72,16,"ACTIONS"],[69,29,72,16],[69,30,72,17,"REMOVE_PORTAL"],[69,43,72,30],[70,8,73,6],[70,15,73,13,"removePortal"],[70,27,73,25],[70,28,73,26,"clonedState"],[70,39,73,37],[70,41,73,39,"action"],[70,47,73,45],[70,48,73,46,"hostName"],[70,56,73,54],[70,58,73,56,"action"],[70,64,73,62],[70,65,73,63,"portalName"],[70,75,73,73],[70,76,73,74],[71,6,75,4],[72,8,76,6],[72,15,76,13,"state"],[72,20,76,18],[73,4,77,2],[74,2,78,0],[74,3,78,1],[75,0,78,2],[75,3]],"functionMap":{"names":["<global>","registerHost","deregisterHost","addUpdatePortal","state.hostName.findIndex$argument_0","removePortal","reducer"],"mappings":"AAA;qBCG;CDM;uBEE;CFG;wBGE;0CCS,gCD;CHY;qBKE;0CDU,gCC;CLG;uBME;CNuB"},"hasCjsExports":false},"type":"js/module"}]}