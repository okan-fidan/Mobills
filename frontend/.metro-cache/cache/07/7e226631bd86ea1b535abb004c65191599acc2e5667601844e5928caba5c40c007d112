{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":40,"index":55}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utilities/isFabricInstalled","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":56},"end":{"line":4,"column":67,"index":123}}],"key":"y8Bj4fPxr3sjTvJTu0WQA3pQn6s=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useBoundingClientRect = useBoundingClientRect;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _utilitiesIsFabricInstalled = require(_dependencyMap[1], \"../utilities/isFabricInstalled\");\n  /**\n   * A custom hook that retrieves the bounding client rectangle of a given `ref` element\n   * and invokes a handler function with the layout information.\n   *\n   * This hook is designed to work with React Native's Fabric architecture and provides\n   * support for both `unstable_getBoundingClientRect` and `getBoundingClientRect` methods.\n   *\n   * @param ref - A `RefObject` pointing to a `View` or `null`. The bounding client rectangle\n   *              will be retrieved from this reference.\n   * @param handler - A callback function that will be invoked with the layout information\n   *                  of the referenced element.\n   *\n   * @remarks\n   * - The hook uses `useLayoutEffect` to ensure the layout information is retrieved\n   *   after the DOM updates.\n   * - The `isFabricInstalled` function is used to determine if the Fabric architecture\n   *   is available.\n   * - The `unstable_getBoundingClientRect` method is used if available, falling back\n   *   to `getBoundingClientRect` otherwise.\n   *\n   * @example\n   * ```tsx\n   * const ref = useRef<View | null>(null);\n   * useBoundingClientRect(ref, (layout) => {\n   *   console.log('Bounding client rect:', layout);\n   * });\n   * ```\n   */\n  function useBoundingClientRect(ref, handler) {\n    if (!(0, _utilitiesIsFabricInstalled.isFabricInstalled)()) {\n      return;\n    }\n\n    // biome-ignore lint/correctness/useHookAtTopLevel: `isFabricInstalled` is a constant that will not change during the runtime\n    (0, _react.useLayoutEffect)(() => {\n      if (!ref || !ref.current) {\n        return;\n      }\n      if (\n      // @ts-expect-error ðŸ‘‰ https://github.com/facebook/react/commit/53b1f69ba\n      ref.current.unstable_getBoundingClientRect !== null &&\n      // @ts-expect-error ðŸ‘‰ https://github.com/facebook/react/commit/53b1f69ba\n      typeof ref.current.unstable_getBoundingClientRect === 'function') {\n        // @ts-expect-error https://github.com/facebook/react/commit/53b1f69ba\n        const layout = ref.current.unstable_getBoundingClientRect();\n        handler(layout);\n        return;\n      }\n\n      // @ts-expect-error once it `unstable_getBoundingClientRect` gets stable ðŸ¤ž.\n      if (ref.current.getBoundingClientRect !== null) {\n        // @ts-expect-error once it `unstable_getBoundingClientRect` gets stable.\n        const layout = ref.current.getBoundingClientRect();\n        handler(layout);\n      }\n    });\n  }\n});","lineCount":67,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,33,0,"exports"],[7,9,33,0],[7,10,33,0,"useBoundingClientRect"],[7,31,33,0],[7,34,33,0,"useBoundingClientRect"],[7,55,33,0],[8,2,3,0],[8,6,3,0,"_react"],[8,12,3,0],[8,15,3,0,"require"],[8,22,3,0],[8,23,3,0,"_dependencyMap"],[8,37,3,0],[9,2,4,0],[9,6,4,0,"_utilitiesIsFabricInstalled"],[9,33,4,0],[9,36,4,0,"require"],[9,43,4,0],[9,44,4,0,"_dependencyMap"],[9,58,4,0],[10,2,5,0],[11,0,6,0],[12,0,7,0],[13,0,8,0],[14,0,9,0],[15,0,10,0],[16,0,11,0],[17,0,12,0],[18,0,13,0],[19,0,14,0],[20,0,15,0],[21,0,16,0],[22,0,17,0],[23,0,18,0],[24,0,19,0],[25,0,20,0],[26,0,21,0],[27,0,22,0],[28,0,23,0],[29,0,24,0],[30,0,25,0],[31,0,26,0],[32,0,27,0],[33,0,28,0],[34,0,29,0],[35,0,30,0],[36,0,31,0],[37,0,32,0],[38,2,33,7],[38,11,33,16,"useBoundingClientRect"],[38,32,33,37,"useBoundingClientRect"],[38,33,33,38,"ref"],[38,36,33,41],[38,38,33,43,"handler"],[38,45,33,50],[38,47,33,52],[39,4,34,2],[39,8,34,6],[39,9,34,7],[39,13,34,7,"isFabricInstalled"],[39,40,34,24],[39,41,34,24,"isFabricInstalled"],[39,58,34,24],[39,60,34,25],[39,61,34,26],[39,63,34,28],[40,6,35,4],[41,4,36,2],[43,4,38,2],[44,4,39,2],[44,8,39,2,"useLayoutEffect"],[44,14,39,17],[44,15,39,17,"useLayoutEffect"],[44,30,39,17],[44,32,39,18],[44,38,39,24],[45,6,40,4],[45,10,40,8],[45,11,40,9,"ref"],[45,14,40,12],[45,18,40,16],[45,19,40,17,"ref"],[45,22,40,20],[45,23,40,21,"current"],[45,30,40,28],[45,32,40,30],[46,8,41,6],[47,6,42,4],[48,6,43,4],[49,6,44,4],[50,6,45,4,"ref"],[50,9,45,7],[50,10,45,8,"current"],[50,17,45,15],[50,18,45,16,"unstable_getBoundingClientRect"],[50,48,45,46],[50,53,45,51],[50,57,45,55],[51,6,46,4],[52,6,47,4],[52,13,47,11,"ref"],[52,16,47,14],[52,17,47,15,"current"],[52,24,47,22],[52,25,47,23,"unstable_getBoundingClientRect"],[52,55,47,53],[52,60,47,58],[52,70,47,68],[52,72,47,70],[53,8,48,6],[54,8,49,6],[54,14,49,12,"layout"],[54,20,49,18],[54,23,49,21,"ref"],[54,26,49,24],[54,27,49,25,"current"],[54,34,49,32],[54,35,49,33,"unstable_getBoundingClientRect"],[54,65,49,63],[54,66,49,64],[54,67,49,65],[55,8,50,6,"handler"],[55,15,50,13],[55,16,50,14,"layout"],[55,22,50,20],[55,23,50,21],[56,8,51,6],[57,6,52,4],[59,6,54,4],[60,6,55,4],[60,10,55,8,"ref"],[60,13,55,11],[60,14,55,12,"current"],[60,21,55,19],[60,22,55,20,"getBoundingClientRect"],[60,43,55,41],[60,48,55,46],[60,52,55,50],[60,54,55,52],[61,8,56,6],[62,8,57,6],[62,14,57,12,"layout"],[62,20,57,18],[62,23,57,21,"ref"],[62,26,57,24],[62,27,57,25,"current"],[62,34,57,32],[62,35,57,33,"getBoundingClientRect"],[62,56,57,54],[62,57,57,55],[62,58,57,56],[63,8,58,6,"handler"],[63,15,58,13],[63,16,58,14,"layout"],[63,22,58,20],[63,23,58,21],[64,6,59,4],[65,4,60,2],[65,5,60,3],[65,6,60,4],[66,2,61,0],[67,0,61,1],[67,3]],"functionMap":{"names":["<global>","useBoundingClientRect","useLayoutEffect$argument_0"],"mappings":"AAA;OCgC;kBCM;GDqB;CDC"},"hasCjsExports":false},"type":"js/module"}]}