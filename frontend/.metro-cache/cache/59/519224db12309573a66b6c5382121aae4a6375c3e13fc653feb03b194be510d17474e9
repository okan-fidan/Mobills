{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"HFkXuFcBAqfzGtqyPj8g62MKT0M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":101,"index":116}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/TextInput","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"DmXc1F5dPYWntVgqRwh73w0VngA=","exportNames":["*"],"imports":1}},{"name":"react-native-gesture-handler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":174},"end":{"line":5,"column":57,"index":231}}],"key":"HJh61WuEUBv/Tn7fS9MiHoQcOfk=","exportNames":["*"],"imports":1}},{"name":"../../hooks","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":232},"end":{"line":6,"column":53,"index":285}}],"key":"jIaYcV+QY+bqLDzM+doDopaMIms=","exportNames":["*"],"imports":1}},{"name":"../../utilities","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":286},"end":{"line":7,"column":49,"index":335}}],"key":"tHjYhTwYQKIhGsmxDL8j1Pu0urc=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":336},"end":{"line":8,"column":48,"index":384}}],"key":"rKAWVuQOSSDHxC6IWcmkeWszaWg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  const _excluded = [\"onFocus\", \"onBlur\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersObjectWithoutPropertiesLoose = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutPropertiesLoose\");\n  var _objectWithoutPropertiesLoose = _interopDefault(_babelRuntimeHelpersObjectWithoutPropertiesLoose);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeWebDistExportsTextInput = require(_dependencyMap[2], \"react-native-web/dist/exports/TextInput\");\n  var RNTextInput = _interopDefault(_reactNativeWebDistExportsTextInput);\n  var _reactNativeGestureHandler = require(_dependencyMap[3], \"react-native-gesture-handler\");\n  var _hooks = require(_dependencyMap[4], \"../../hooks\");\n  var _utilities = require(_dependencyMap[5], \"../../utilities\");\n  var _reactJsxRuntime = require(_dependencyMap[6], \"react/jsx-runtime\");\n  const BottomSheetTextInputComponent = /*#__PURE__*/(0, _react.forwardRef)((_ref, providedRef) => {\n    let {\n        onFocus,\n        onBlur\n      } = _ref,\n      rest = (0, _objectWithoutPropertiesLoose.default)(_ref, _excluded);\n    //#region refs\n    const ref = (0, _react.useRef)(null);\n    //#endregion\n\n    //#region hooks\n    const {\n      animatedKeyboardState,\n      textInputNodesRef\n    } = (0, _hooks.useBottomSheetInternal)();\n    //#endregion\n\n    //#region callbacks\n    const handleOnFocus = (0, _react.useCallback)(args => {\n      animatedKeyboardState.set(state => Object.assign({}, state, {\n        target: args.nativeEvent.target\n      }));\n      if (onFocus) {\n        onFocus(args);\n      }\n    }, [onFocus, animatedKeyboardState]);\n    const handleOnBlur = (0, _react.useCallback)(args => {\n      const keyboardState = animatedKeyboardState.get();\n      const currentFocusedInput = (0, _utilities.findNodeHandle)(RNTextInput.default.State.currentlyFocusedInput());\n\n      /**\n       * we need to make sure that we only remove the target\n       * if the target belong to the current component and\n       * if the currently focused input is not in the targets set.\n       */\n      const shouldRemoveCurrentTarget = keyboardState.target === args.nativeEvent.target;\n      const shouldIgnoreBlurEvent = currentFocusedInput && textInputNodesRef.current.has(currentFocusedInput);\n      if (shouldRemoveCurrentTarget && !shouldIgnoreBlurEvent) {\n        animatedKeyboardState.set(state => Object.assign({}, state, {\n          target: undefined\n        }));\n      }\n      if (onBlur) {\n        onBlur(args);\n      }\n    }, [onBlur, animatedKeyboardState, textInputNodesRef]);\n    //#endregion\n\n    //#region effects\n    (0, _react.useEffect)(() => {\n      const componentNode = (0, _utilities.findNodeHandle)(ref.current);\n      if (!componentNode) {\n        return;\n      }\n      if (!textInputNodesRef.current.has(componentNode)) {\n        textInputNodesRef.current.add(componentNode);\n      }\n      return () => {\n        const componentNode = (0, _utilities.findNodeHandle)(ref.current);\n        if (!componentNode) {\n          return;\n        }\n        const keyboardState = animatedKeyboardState.get();\n        /**\n         * remove the keyboard state target if it belong\n         * to the current component.\n         */\n        if (keyboardState.target === componentNode) {\n          animatedKeyboardState.set(state => Object.assign({}, state, {\n            target: undefined\n          }));\n        }\n        if (textInputNodesRef.current.has(componentNode)) {\n          textInputNodesRef.current.delete(componentNode);\n        }\n      };\n    }, [textInputNodesRef, animatedKeyboardState]);\n    (0, _react.useImperativeHandle)(providedRef, () => ref.current ?? undefined, []);\n    //#endregion\n\n    return /*#__PURE__*/(0, _reactJsxRuntime.jsx)(_reactNativeGestureHandler.TextInput, Object.assign({\n      ref: ref,\n      onFocus: handleOnFocus,\n      onBlur: handleOnBlur\n    }, rest));\n  });\n  const BottomSheetTextInput = /*#__PURE__*/(0, _react.memo)(BottomSheetTextInputComponent);\n  BottomSheetTextInput.displayName = 'BottomSheetTextInput';\n  var _default = BottomSheetTextInput;\n});","lineCount":117,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,8,1,13,"_excluded"],[4,17,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13],[8,11,1,13,"_interopDefault"],[8,27,1,13,"e"],[8,28,1,13],[9,4,1,13],[9,11,1,13,"e"],[9,12,1,13],[9,16,1,13,"e"],[9,17,1,13],[9,18,1,13,"__esModule"],[9,28,1,13],[9,31,1,13,"e"],[9,32,1,13],[10,6,1,13,"default"],[10,13,1,13],[10,15,1,13,"e"],[11,4,1,13],[12,2,1,13],[13,2,100,0,"Object"],[13,8,100,0],[13,9,100,0,"defineProperty"],[13,23,100,0],[13,24,100,0,"exports"],[13,31,100,0],[14,4,100,0,"enumerable"],[14,14,100,0],[15,4,100,0,"get"],[15,7,100,0],[15,18,100,0,"get"],[15,19,100,0],[16,6,100,0],[16,13,100,0,"_default"],[16,21,100,0],[17,4,100,0],[18,2,100,0],[19,2,100,36],[19,6,100,36,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[19,54,100,36],[19,57,100,36,"require"],[19,64,100,36],[19,65,100,36,"_dependencyMap"],[19,79,100,36],[20,2,100,36],[20,6,100,36,"_objectWithoutPropertiesLoose"],[20,35,100,36],[20,38,100,36,"_interopDefault"],[20,53,100,36],[20,54,100,36,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[20,102,100,36],[21,2,3,0],[21,6,3,0,"_react"],[21,12,3,0],[21,15,3,0,"require"],[21,22,3,0],[21,23,3,0,"_dependencyMap"],[21,37,3,0],[22,2,3,101],[22,6,3,101,"_reactNativeWebDistExportsTextInput"],[22,41,3,101],[22,44,3,101,"require"],[22,51,3,101],[22,52,3,101,"_dependencyMap"],[22,66,3,101],[23,2,3,101],[23,6,3,101,"RNTextInput"],[23,17,3,101],[23,20,3,101,"_interopDefault"],[23,35,3,101],[23,36,3,101,"_reactNativeWebDistExportsTextInput"],[23,71,3,101],[24,2,5,0],[24,6,5,0,"_reactNativeGestureHandler"],[24,32,5,0],[24,35,5,0,"require"],[24,42,5,0],[24,43,5,0,"_dependencyMap"],[24,57,5,0],[25,2,6,0],[25,6,6,0,"_hooks"],[25,12,6,0],[25,15,6,0,"require"],[25,22,6,0],[25,23,6,0,"_dependencyMap"],[25,37,6,0],[26,2,7,0],[26,6,7,0,"_utilities"],[26,16,7,0],[26,19,7,0,"require"],[26,26,7,0],[26,27,7,0,"_dependencyMap"],[26,41,7,0],[27,2,8,0],[27,6,8,0,"_reactJsxRuntime"],[27,22,8,0],[27,25,8,0,"require"],[27,32,8,0],[27,33,8,0,"_dependencyMap"],[27,47,8,0],[28,2,9,0],[28,8,9,6,"BottomSheetTextInputComponent"],[28,37,9,35],[28,40,9,38],[28,53,9,51],[28,57,9,51,"forwardRef"],[28,63,9,61],[28,64,9,61,"forwardRef"],[28,74,9,61],[28,76,9,62],[28,77,9,62,"_ref"],[28,81,9,62],[28,83,13,3,"providedRef"],[28,94,13,14],[28,99,13,19],[29,4,13,19],[29,8,9,63],[30,8,10,2,"onFocus"],[30,15,10,9],[31,8,11,2,"onBlur"],[32,6,13,0],[32,7,13,1],[32,10,13,1,"_ref"],[32,14,13,1],[33,6,12,5,"rest"],[33,10,12,9],[33,17,12,9,"_objectWithoutPropertiesLoose"],[33,46,12,9],[33,47,12,9,"default"],[33,54,12,9],[33,56,12,9,"_ref"],[33,60,12,9],[33,62,12,9,"_excluded"],[33,71,12,9],[34,4,14,2],[35,4,15,2],[35,10,15,8,"ref"],[35,13,15,11],[35,16,15,14],[35,20,15,14,"useRef"],[35,26,15,20],[35,27,15,20,"useRef"],[35,33,15,20],[35,35,15,21],[35,39,15,25],[35,40,15,26],[36,4,16,2],[38,4,18,2],[39,4,19,2],[39,10,19,8],[40,6,20,4,"animatedKeyboardState"],[40,27,20,25],[41,6,21,4,"textInputNodesRef"],[42,4,22,2],[42,5,22,3],[42,8,22,6],[42,12,22,6,"useBottomSheetInternal"],[42,18,22,28],[42,19,22,28,"useBottomSheetInternal"],[42,41,22,28],[42,43,22,29],[42,44,22,30],[43,4,23,2],[45,4,25,2],[46,4,26,2],[46,10,26,8,"handleOnFocus"],[46,23,26,21],[46,26,26,24],[46,30,26,24,"useCallback"],[46,36,26,35],[46,37,26,35,"useCallback"],[46,48,26,35],[46,50,26,36,"args"],[46,54,26,40],[46,58,26,44],[47,6,27,4,"animatedKeyboardState"],[47,27,27,25],[47,28,27,26,"set"],[47,31,27,29],[47,32,27,30,"state"],[47,37,27,35],[47,41,27,35,"Object"],[47,47,27,35],[47,48,27,35,"assign"],[47,54,27,35],[47,59,28,9,"state"],[47,64,28,14],[48,8,29,6,"target"],[48,14,29,12],[48,16,29,14,"args"],[48,20,29,18],[48,21,29,19,"nativeEvent"],[48,32,29,30],[48,33,29,31,"target"],[49,6,29,37],[49,8,30,6],[49,9,30,7],[50,6,31,4],[50,10,31,8,"onFocus"],[50,17,31,15],[50,19,31,17],[51,8,32,6,"onFocus"],[51,15,32,13],[51,16,32,14,"args"],[51,20,32,18],[51,21,32,19],[52,6,33,4],[53,4,34,2],[53,5,34,3],[53,7,34,5],[53,8,34,6,"onFocus"],[53,15,34,13],[53,17,34,15,"animatedKeyboardState"],[53,38,34,36],[53,39,34,37],[53,40,34,38],[54,4,35,2],[54,10,35,8,"handleOnBlur"],[54,22,35,20],[54,25,35,23],[54,29,35,23,"useCallback"],[54,35,35,34],[54,36,35,34,"useCallback"],[54,47,35,34],[54,49,35,35,"args"],[54,53,35,39],[54,57,35,43],[55,6,36,4],[55,12,36,10,"keyboardState"],[55,25,36,23],[55,28,36,26,"animatedKeyboardState"],[55,49,36,47],[55,50,36,48,"get"],[55,53,36,51],[55,54,36,52],[55,55,36,53],[56,6,37,4],[56,12,37,10,"currentFocusedInput"],[56,31,37,29],[56,34,37,32],[56,38,37,32,"findNodeHandle"],[56,48,37,46],[56,49,37,46,"findNodeHandle"],[56,63,37,46],[56,65,37,47,"RNTextInput"],[56,76,37,58],[56,77,37,58,"default"],[56,84,37,58],[56,85,37,59,"State"],[56,90,37,64],[56,91,37,65,"currentlyFocusedInput"],[56,112,37,86],[56,113,37,87],[56,114,37,88],[56,115,37,89],[58,6,39,4],[59,0,40,0],[60,0,41,0],[61,0,42,0],[62,0,43,0],[63,6,44,4],[63,12,44,10,"shouldRemoveCurrentTarget"],[63,37,44,35],[63,40,44,38,"keyboardState"],[63,53,44,51],[63,54,44,52,"target"],[63,60,44,58],[63,65,44,63,"args"],[63,69,44,67],[63,70,44,68,"nativeEvent"],[63,81,44,79],[63,82,44,80,"target"],[63,88,44,86],[64,6,45,4],[64,12,45,10,"shouldIgnoreBlurEvent"],[64,33,45,31],[64,36,45,34,"currentFocusedInput"],[64,55,45,53],[64,59,45,57,"textInputNodesRef"],[64,76,45,74],[64,77,45,75,"current"],[64,84,45,82],[64,85,45,83,"has"],[64,88,45,86],[64,89,45,87,"currentFocusedInput"],[64,108,45,106],[64,109,45,107],[65,6,46,4],[65,10,46,8,"shouldRemoveCurrentTarget"],[65,35,46,33],[65,39,46,37],[65,40,46,38,"shouldIgnoreBlurEvent"],[65,61,46,59],[65,63,46,61],[66,8,47,6,"animatedKeyboardState"],[66,29,47,27],[66,30,47,28,"set"],[66,33,47,31],[66,34,47,32,"state"],[66,39,47,37],[66,43,47,37,"Object"],[66,49,47,37],[66,50,47,37,"assign"],[66,56,47,37],[66,61,48,11,"state"],[66,66,48,16],[67,10,49,8,"target"],[67,16,49,14],[67,18,49,16,"undefined"],[68,8,49,25],[68,10,50,8],[68,11,50,9],[69,6,51,4],[70,6,52,4],[70,10,52,8,"onBlur"],[70,16,52,14],[70,18,52,16],[71,8,53,6,"onBlur"],[71,14,53,12],[71,15,53,13,"args"],[71,19,53,17],[71,20,53,18],[72,6,54,4],[73,4,55,2],[73,5,55,3],[73,7,55,5],[73,8,55,6,"onBlur"],[73,14,55,12],[73,16,55,14,"animatedKeyboardState"],[73,37,55,35],[73,39,55,37,"textInputNodesRef"],[73,56,55,54],[73,57,55,55],[73,58,55,56],[74,4,56,2],[76,4,58,2],[77,4,59,2],[77,8,59,2,"useEffect"],[77,14,59,11],[77,15,59,11,"useEffect"],[77,24,59,11],[77,26,59,12],[77,32,59,18],[78,6,60,4],[78,12,60,10,"componentNode"],[78,25,60,23],[78,28,60,26],[78,32,60,26,"findNodeHandle"],[78,42,60,40],[78,43,60,40,"findNodeHandle"],[78,57,60,40],[78,59,60,41,"ref"],[78,62,60,44],[78,63,60,45,"current"],[78,70,60,52],[78,71,60,53],[79,6,61,4],[79,10,61,8],[79,11,61,9,"componentNode"],[79,24,61,22],[79,26,61,24],[80,8,62,6],[81,6,63,4],[82,6,64,4],[82,10,64,8],[82,11,64,9,"textInputNodesRef"],[82,28,64,26],[82,29,64,27,"current"],[82,36,64,34],[82,37,64,35,"has"],[82,40,64,38],[82,41,64,39,"componentNode"],[82,54,64,52],[82,55,64,53],[82,57,64,55],[83,8,65,6,"textInputNodesRef"],[83,25,65,23],[83,26,65,24,"current"],[83,33,65,31],[83,34,65,32,"add"],[83,37,65,35],[83,38,65,36,"componentNode"],[83,51,65,49],[83,52,65,50],[84,6,66,4],[85,6,67,4],[85,13,67,11],[85,19,67,17],[86,8,68,6],[86,14,68,12,"componentNode"],[86,27,68,25],[86,30,68,28],[86,34,68,28,"findNodeHandle"],[86,44,68,42],[86,45,68,42,"findNodeHandle"],[86,59,68,42],[86,61,68,43,"ref"],[86,64,68,46],[86,65,68,47,"current"],[86,72,68,54],[86,73,68,55],[87,8,69,6],[87,12,69,10],[87,13,69,11,"componentNode"],[87,26,69,24],[87,28,69,26],[88,10,70,8],[89,8,71,6],[90,8,72,6],[90,14,72,12,"keyboardState"],[90,27,72,25],[90,30,72,28,"animatedKeyboardState"],[90,51,72,49],[90,52,72,50,"get"],[90,55,72,53],[90,56,72,54],[90,57,72,55],[91,8,73,6],[92,0,74,0],[93,0,75,0],[94,0,76,0],[95,8,77,6],[95,12,77,10,"keyboardState"],[95,25,77,23],[95,26,77,24,"target"],[95,32,77,30],[95,37,77,35,"componentNode"],[95,50,77,48],[95,52,77,50],[96,10,78,8,"animatedKeyboardState"],[96,31,78,29],[96,32,78,30,"set"],[96,35,78,33],[96,36,78,34,"state"],[96,41,78,39],[96,45,78,39,"Object"],[96,51,78,39],[96,52,78,39,"assign"],[96,58,78,39],[96,63,79,13,"state"],[96,68,79,18],[97,12,80,10,"target"],[97,18,80,16],[97,20,80,18,"undefined"],[98,10,80,27],[98,12,81,10],[98,13,81,11],[99,8,82,6],[100,8,83,6],[100,12,83,10,"textInputNodesRef"],[100,29,83,27],[100,30,83,28,"current"],[100,37,83,35],[100,38,83,36,"has"],[100,41,83,39],[100,42,83,40,"componentNode"],[100,55,83,53],[100,56,83,54],[100,58,83,56],[101,10,84,8,"textInputNodesRef"],[101,27,84,25],[101,28,84,26,"current"],[101,35,84,33],[101,36,84,34,"delete"],[101,42,84,40],[101,43,84,41,"componentNode"],[101,56,84,54],[101,57,84,55],[102,8,85,6],[103,6,86,4],[103,7,86,5],[104,4,87,2],[104,5,87,3],[104,7,87,5],[104,8,87,6,"textInputNodesRef"],[104,25,87,23],[104,27,87,25,"animatedKeyboardState"],[104,48,87,46],[104,49,87,47],[104,50,87,48],[105,4,88,2],[105,8,88,2,"useImperativeHandle"],[105,14,88,21],[105,15,88,21,"useImperativeHandle"],[105,34,88,21],[105,36,88,22,"providedRef"],[105,47,88,33],[105,49,88,35],[105,55,88,41,"ref"],[105,58,88,44],[105,59,88,45,"current"],[105,66,88,52],[105,70,88,56,"undefined"],[105,79,88,65],[105,81,88,67],[105,83,88,69],[105,84,88,70],[106,4,89,2],[108,4,91,2],[108,11,91,9],[108,24,91,22],[108,28,91,22,"_jsx"],[108,44,91,26],[108,45,91,26,"jsx"],[108,48,91,26],[108,50,91,27,"TextInput"],[108,76,91,36],[108,77,91,36,"TextInput"],[108,86,91,36],[108,88,91,36,"Object"],[108,94,91,36],[108,95,91,36,"assign"],[108,101,91,36],[109,6,92,4,"ref"],[109,9,92,7],[109,11,92,9,"ref"],[109,14,92,12],[110,6,93,4,"onFocus"],[110,13,93,11],[110,15,93,13,"handleOnFocus"],[110,28,93,26],[111,6,94,4,"onBlur"],[111,12,94,10],[111,14,94,12,"handleOnBlur"],[112,4,94,24],[112,7,95,7,"rest"],[112,11,95,11],[112,12,96,3],[112,13,96,4],[113,2,97,0],[113,3,97,1],[113,4,97,2],[114,2,98,0],[114,8,98,6,"BottomSheetTextInput"],[114,28,98,26],[114,31,98,29],[114,44,98,42],[114,48,98,42,"memo"],[114,54,98,46],[114,55,98,46,"memo"],[114,59,98,46],[114,61,98,47,"BottomSheetTextInputComponent"],[114,90,98,76],[114,91,98,77],[115,2,99,0,"BottomSheetTextInput"],[115,22,99,20],[115,23,99,21,"displayName"],[115,34,99,32],[115,37,99,35],[115,59,99,57],[116,2,100,0],[116,6,100,0,"_default"],[116,14,100,0],[116,17,100,15,"BottomSheetTextInput"],[116,37,100,35],[117,0,100,36],[117,3]],"functionMap":{"names":["<global>","forwardRef$argument_0","handleOnFocus","animatedKeyboardState.set$argument_0","handleOnBlur","useEffect$argument_0","<anonymous>","useImperativeHandle$argument_1"],"mappings":"AAA;8DCQ;oCCiB;8BCC;MDG;GDI;mCGC;gCDY;QCG;GHK;YII;WCQ;kCHW;UGG;KDK;GJC;mCMC,8BN;CDS"},"hasCjsExports":false},"type":"js/module"}]}